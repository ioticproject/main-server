(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"12GJ":function(e,a,t){"use strict";var n=t("mj2O"),i=t.n(n),r=t("7SM1"),c=t("jKoD"),o=t("Ztgx"),s=t("NJA7"),l=t("Vk0e"),m=t("qixE"),u=t("SFoa"),d=t("qwiD"),g=t("LVcX"),f=t("ERkP"),b=t.n(f),p=t("uDfI"),A=t("SWQ0"),v=t("gG69"),j=t("0lfv"),O=t("Nlet"),E=t("wNJw"),h=(t("sZBt"),function DeclinedConsent(e){var a=e.consentMessage;return b.a.createElement("div",{className:"drift-widget-greeting-content"},b.a.createElement("p",{className:"drift-widget-gdpr-consent--copy"},a))}),y=function InquireConsent(e){var a=e.message,t=e.onConsentButtonClicked,n=e.yesConsentLabel,i=e.noConsentLabel;return b.a.createElement(b.a.Fragment,null,b.a.createElement("div",{className:"drift-widget-greeting-content"},b.a.createElement("p",{className:"drift-widget-gdpr-consent--copy"},a)),b.a.createElement("div",{className:"drift-gdpr-actions"},b.a.createElement(s.a,{className:"drift-gdpr-action--allow-consent",onClick:t(!0)},b.a.createElement("span",{className:"drift-gdpr-action--text"},n)),b.a.createElement(s.a,{className:"drift-gdpr-action--deny-consent",onClick:t(!1)},b.a.createElement("span",{className:"drift-gdpr-action--text"},i))))};a.a=function GDPR(e){var a=e.previewRef,t=e.resetChatHeight,n=Object(p.b)(),s=Object(p.c)(function(e){return e.embed.configuration.dataProtection}),k=s.policies,w=s.default,M=Object(p.c)(function(e){return e.embed.configuration}).team,N=void 0===M?[]:M,C=Object(p.c)(function(e){return e.session}),S=C.endUser,_=C.gdpr,T=(void 0===_?{}:_).declinedConsent;Object(f.useLayoutEffect)(function(){T&&t()},[T,t]);var P=Object(O.c)().locale,z=Object(u.h)()?Object(u.e)():P,I=Object(f.useMemo)(function(){return N.find(function(e){return e.bot})||{}},[N]),L=Object(f.useMemo)(function(){var e=Object(g.a)(null,[z],k);if(e)return e;var a=Object(g.a)(null,["".concat(w)],k);return a||(Object(j.n)({data:["No locale matched and unable to find default policy: ".concat(a)]}),null)},[z,k,w]);if(Object(l.a)(v.c.GDPR),!L)return null;return b.a.createElement("div",{className:"drift-widget-gdpr-consent drift-widget-greeting"},b.a.createElement(o.a,{messageText:"Data Privacy Bot",senderId:I.id}),b.a.createElement("div",{ref:a,className:"drift-widget-gdpr-body"},!T&&b.a.createElement(y,{message:L.message,onConsentButtonClicked:function doRecordConsent(e){return Object(r.a)(i.a.mark(function _callee(){return i.a.wrap(function _callee$(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,Object(E.a)(A.b.GDPR_CLICKED,{accepted:e,endUser:S.id}),!e){a.next=5;break}return a.next=5,Object(c.a)(S.id,L.message);case 5:n(Object(d.o)({hasConsent:e})),e||(n(Object(d.c)(!0)),Object(m.b)()),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.warn(a.t0);case 12:case"end":return a.stop()}},_callee,null,[[0,9]])}))},yesConsentLabel:L.giveConsentLabel,noConsentLabel:L.declineConsentLabel}),T&&b.a.createElement(h,{consentMessage:L.consentDeclinedMessage})))}},"2VrW":function(e,a,t){},"8eKL":function(e,a,t){"use strict";var n=t("mj2O"),i=t.n(n),r=t("7SM1"),c=t("s8DI"),o=t("O94r"),s=t.n(o),l=t("HXmn"),m=t("tGI+"),u=t("WwEg"),d=t("nfbA"),g=t("dZmz"),f=t("wW9O"),b=t("nQD+"),p=t("+Kbs"),A=t("ERkP"),v=t.n(A),j=t("Tr4L"),O=t("A5mO"),E=t("0lfv"),h=function MessageFooter(e){var a=e.message,t=e.isLastGroup,n=e.isLastMessage,i=e.delivered,r=e.generated,o=e.messageTimedOut,m=e.deliveryFailed,u=e.resolveMessageHeight,d=Object(j.a)().t,g=Object(A.useState)(!1),f=Object(c.a)(g,2),b=f[0],h=f[1];return Object(A.useEffect)(function(){return(o||i)&&Object(E.e)(function(){return h(!1)},500),i||b||h(!0),function(){return h(!1)}},[i,o,b]),Object(A.useLayoutEffect)(function(){u()},[u,i,b,t,n,m]),!i||b?v.a.createElement("li",{key:"".concat(r,"-message-status"),className:s()("drift-widget-message drift-widget-message--meta-date drift-no-op",{"drift-widget-message-failed-status":m})},v.a.createElement("span",{className:"drift-widget-message--meta-status"},!b&&m?d("status.sendMessageFailed"):v.a.createElement(l.a,{size:"small",className:"drift-widget-message--meta-status__sending"}))):t||i?n&&t?v.a.createElement("li",{key:"".concat(a.createdAt,"-message-status"),className:"drift-widget-message--meta-date drift-widget-message"},v.a.createElement("div",{className:"drift-widget-message--meta-status"},v.a.createElement(p.i,{className:"drift-widget-message-sent",height:10,width:12}),v.a.createElement("span",{className:"drift-widget-message--meta-date-stamp"},Object(O.a)(i).unixFmt(d("dt.format.time.short"))))):null:v.a.createElement("li",{key:"".concat(r,"-message-status"),className:"drift-widget-message drift-widget-message--meta-date drift-no-op"})},y=t("lE29"),k=t("K7i0"),w=t("da4L"),M=t("LVcX"),N=t("uDfI"),C=t("PjZB"),S=t("EQxi"),_=t("58kB"),T=t("4bA0"),P=t.n(T),z=t("oPI6"),I=t("y0on"),L=function HtmlMessage(e){var a=e.body,t=e.attributes,n=e.isLastMessage,i=e.authorId,r=e.isLastGroup,c=e.style,o=void 0===c?{}:c,l=e.resolveMessageHeight,m=void 0===l?function(){}:l,u=e.className,g=e.viewerRecipientStatus,f=e.authorType;Object(A.useLayoutEffect)(function(){m()},[m,a]);var b=Object(_.a)(i),p=Object(A.useMemo)(function(){return{parsedBody:P()(a,{replace:function replace(e){if("img"===e.name){var a=Object(d.a)(Object(d.a)({},Object(T.attributesToProps)(e.attribs)),{},{onLoad:m});return v.a.createElement("img",a)}if("text"===e.type){if(e.parentNode&&"a"!==e.parentNode.name){var t=Object(S.a)(e.data).map(function(a,t){-1===a.indexOf("http")&&(a="//"+a);var n={href:a,target:"_blank",rel:"noopener noreferrer",key:a+t.toString()};return v.a.createElement("a",n,e.data)});return v.a.createElement(v.a.Fragment,null,t.length?t:e.data)}}else if("a"===e.name){var n={href:e.attribs.href,target:"_blank",rel:"noopener noreferrer"};return v.a.createElement("a",n,Object(T.domToReact)(e.children))}}})}},[a,m]).parsedBody,j=n&&r&&f===C.b.USER&&g!==C.f.READ,O=j?Object(I.a)(b.recipient.name,t&&""!==t.preview?t.preview:a):null;return v.a.createElement("div",{className:s()("drift-widget-message--box drift-widget-message--HTML",u),style:o},j&&v.a.createElement(z.b,{message:O,"aria-live":"polite",clearOnUnmount:!0}),v.a.createElement("div",null,p))},x=function(e){return Object(w.g)(e.body)?null:v.a.createElement(L,e)},R=(t("Wkzb"),function BotMessage(e){return v.a.createElement(x,Object.assign({},e,{className:"drift-widget-message--bot"}))}),D=t("pYxh"),B=t("rmQ0"),G=t("Mur8"),H=t("i9gz"),F=(t("BZgG"),function ConversationRatingMessage(e){var a=(e.attributes||{}).conversationRating,t=(a=void 0===a?{}:a).ratingPrompt,n=(t=void 0===t?{}:t).ratingAcknowledgement,i=void 0===n?null:n,r=t.ratingPromptMessage,c=void 0===r?null:r,o=a.ratingText,l=void 0===o?null:o,m=a.ratingValue,u=void 0===m?null:m,d=l&&!Object(H.a)(l);return v.a.createElement(D.a,{className:"drift-widget-conversation-rating"},v.a.createElement(B.a,null,c),v.a.createElement("div",{className:"drift-widget-conversation-rating--rating"},v.a.createElement("div",{className:s()("drift-widget-conversation-rating--value",{"drift-widget-conversation-rating--value--with-text":d})},function getEmojiFromRatingValue(e){var a=G.a.find(function(a){return a.value===e});return a?a.emoji:null}(u)),l&&!Object(H.a)(l)&&v.a.createElement("div",{className:"drift-widget-conversation-rating--text"},l)),v.a.createElement("div",{className:"drift-widget-conversation-rating--footer"},i))}),K=t("NJA7"),U=t("yT62"),V=t("nvPd"),J=t("qixE"),Z=t("qwiD"),q=t("NFvl"),W=t("6lNa"),Q=(t("n/d+"),function SuccessCapture(){var e=Object(j.a)().t;return v.a.createElement("div",{className:"drift-widget-offline-email-input-wrapper drift-widget-email-success"},v.a.createElement(U.a,null),v.a.createElement("p",{className:"drift-widget-success-message"},e("automessage.emailCapturedSuccess")))}),Y=function EmailCaptureMessage(e){var a=Object(j.a)().t,t=Object(N.b)(),n=Object(V.a)(""),c=Object(N.c)(function(e){return e.session}).endUser,o=!!c.email&&!Object(H.a)(c.email),s=Object(N.c)(function(e){return e.conversations}).activeConversation,l=Object(N.c)(function(e){return Object(q.a)(["embed","configuration","theme","emailCaptureMessage"],e)}),m=Object(A.useMemo)(function(){return l&&!Object(H.a)(l)?l:a("automessage.emailCaptureMessage")},[l,a]),u=function(){var e=Object(r.a)(i.a.mark(function _callee(e){return i.a.wrap(function _callee$(a){for(;;)switch(a.prev=a.next){case 0:e.preventDefault(),t(Object(Z.d)({email:n.value})),Object(J.a)(W.b.LEAD_CAPTURED,{email:n.value,conversationId:s});case 3:case"end":return a.stop()}},_callee)}));return function submitEmail(a){return e.apply(this,arguments)}}(),d=a("form.label.emailAddress");return v.a.createElement(v.a.Fragment,null,v.a.createElement(x,Object.assign({},e,{body:m})),o?v.a.createElement(Q,null):v.a.createElement("form",{className:"drift-widget-offline-email-capture",onSubmit:u},v.a.createElement("label",{htmlFor:"drift-widget-offline-email-capture-input",className:"drift-widget-offline-email-capture-label"},v.a.createElement("span",null,d,":"),v.a.createElement("fieldset",null,v.a.createElement("div",{className:"drift-widget-offline-email-capture-input-container"},v.a.createElement("input",Object.assign({id:"drift-widget-offline-email-capture-input",type:"email",placeholder:d},n,{required:!0}))),v.a.createElement(K.a,{className:"drift-widget-offline-email-button",invertColors:!0,type:"submit"},a("form.label.submit"))))))},X=t("FJN1"),$=t("fJpD"),ee=t("Hvhg"),ae=t("NCI6"),te=t("pgTp"),ne=t("jm9a"),ie=(t("Q0X4"),function LoadingDots(e){var a=e.size,t=void 0===a?null:a;return v.a.createElement("div",{className:s()("widget-loading-dots",Object(ne.a)({},"widget-loading-dots--".concat(t),!!t))},v.a.createElement("span",{className:"widget-loading-dot widget-loading-dot-delay-1"},"."),v.a.createElement("span",{className:"widget-loading-dot widget-loading-dot-delay-2"},"."),v.a.createElement("span",{className:"widget-loading-dot widget-loading-dot-delay-3"},"."))}),re=t("fw6E"),ce=t("SsZN"),oe=t("+oIK"),se=t("+f1A"),le=function translateErrorMessage(e){if(!e||!e.message)return"meeting.scheduleAMeetingError";switch(e.message){case"The requested slot cannot be in the past":return"meeting.scheduleAMeetingTimePassedError";case"The requested slot does not fall within agent-configured availability":case"The requested slot does not respect the agent-configured minimum notice time":case"The requested slot--padded by buffer time on both sides--conflicts with an existing event":case"The requested slot--padded by buffer time on both sides--conflicts with an existing point-in-time event":return"meeting.scheduleAMeetingAlreadyBookedError";default:return"meeting.scheduleAMeetingError"}},me=function getTimeZoneGroupI18nKey(e){return"tz.group.".concat(e)},ue=function getTimeZoneI18nKey(e){return"tz.".concat(e)},de=function createMeetingSlot(e,a,t){return{date:e.unixFmt(t),slots:[a]}},ge=function makeSlotDate(e,a){var t;try{t=Object(O.a)(e,a.value)}catch(n){Object(E.n)({data:["Unable to translate non-IANA timezone",n,a.value]}),t=Object(O.a)(e,"America/New_York")}return t},fe=function padZeros(e){return e<10?"0"+e:e},be=t("nJ3u"),pe=t("z24s"),Ae=t("f/zS"),ve=function CompanyMeetingRecipients(e){var a=e.avatarSize,t=void 0===a?"SMALL":a,n=e.companyLogo,i=e.companyName;return v.a.createElement("div",{className:"drift-meeting-recipients"},v.a.createElement("div",{className:"drift-meeting-scheduler--avatar"},v.a.createElement(Ae.a,{size:t,image:n})),v.a.createElement("p",{className:"drift-meeting-recipient-name"},i))},je=t("noex"),Oe=t("ey6Y"),Ee=function MeetingRecipients(e){var a=e.avatarSize,t=void 0===a?"SMALL":a,n=e.additionalRecipientIds,i=void 0===n?[]:n,r=e.primaryRecipientId,c=void 0===r?null:r,o=Object(Oe.a)(c,i);return v.a.createElement("div",{className:"drift-meeting-recipients"},v.a.createElement("div",{className:"drift-meeting-scheduler--avatar"},[c].concat(Object(u.a)(i)).map(function(e,a){return v.a.createElement(je.a,{size:t,id:e,key:"agent-avatar-".concat(a)})})),v.a.createElement("p",{className:"drift-meeting-recipient-name"},o))},he=function MeetingConfirmation(e){var a=e.meetingStart,t=e.meetingAgentId,n=e.additionalAgents,i=e.timezone,r=e.onBackClicked,c=e.onConfirmClicked,o=e.isBookingPending,l=e.resolveMessageHeight,m=e.isCompanyMeeting,u=e.companyLogo,d=e.companyName,g=e.meetingEnd,f=void 0===g?null:g,O=e.isConfirmed,E=void 0!==O&&O,h=e.disabled,k=void 0!==h&&h,w=Object(j.a)().t,M=a.unixFmt(w("dt.format.date.long")),N=a.unixFmt(w("dt.format.time.short")),C=null===f||void 0===f?void 0:f.unixFmt(w("dt.format.time.short")),S=w(ue(i)),_=Object(A.useRef)(null),T=Object(pe.a)(_);return Object(A.useEffect)(l,[o,E]),v.a.createElement("div",{className:"drift-meeting-card-body"},v.a.createElement("style",null,"\n          .drift-meeting-back-button.keyboard-focused {\n            ".concat(Object(be.c)(Object(y.a)().activeColor),"\n          }\n        ")),!E&&v.a.createElement(b.a,{className:s()("drift-meeting-back-button",{"keyboard-focused":T}),onClick:r,"aria-label":"back",disabled:k,ref:_},v.a.createElement(p.b,null)),m?v.a.createElement(ve,{companyLogo:u,avatarSize:"LARGE",companyName:d}):v.a.createElement(Ee,{additionalRecipientIds:n,avatarSize:"LARGE",primaryRecipientId:t}),v.a.createElement("div",{className:"drift-meeting-confirmation"},v.a.createElement("span",{className:"drift-meeting-confirmation--time"},N," ",C&&"- ".concat(C)),v.a.createElement("span",{className:"drift-meeting-confirmation--date"},M),v.a.createElement("span",{className:"drift-meeting-confirmation--timezone"},S)),!E&&v.a.createElement(K.a,{className:"drift-meeting-confirmation__confirm",onClick:c,invertColors:!0,invertOnHover:!0,disabled:k},w("meeting.schedule")))},ye=t("jITz"),ke=t("o3t1"),we=t("hm8b"),Me=function TimezoneChangeButton(e){var a=e.onClick,t=e.timezoneName,n=e.disabled,i=void 0!==n&&n,r=Object(y.a)().primaryTextColor,c=Object(A.useRef)(null),o=Object(pe.a)(c);return v.a.createElement(b.a,{className:s()("drift-meeting-change-timezone",{"keyboard-focused":o}),onClick:a,style:r,"aria-label":"".concat(t," - Activate to change time zone"),disabled:i,ref:c},"(",t,")")},Ne=(t("fmuz"),function MeetingSlotListItem(e){var a=e.meetingSlot,t=e.onItemClicked,n=e.disabled,i=Object(ke.a)(),r=i.hoverProps,c=i.isHovered,o=Object(y.a)(),l=o.borderStyles,m=o.primaryTextColor,u=Object(A.useRef)(null),g=Object(pe.a)(u);return v.a.createElement("li",Object.assign({className:s()("drift-meeting-day-picker--list-item",{"keyboard-focused":g})},r,{style:c?Object(d.a)({},l):{}}),v.a.createElement(b.a,{onClick:t,disabled:n,ref:u},v.a.createElement("span",{style:c?Object(d.a)({},m):{}},a.date)))}),Ce=function MeetingDayPicker(e){var a=e.timezone,t=e.meetingInfo,n=e.meetingAgent,i=e.meetingSlotSets,r=e.onMeetingDateChosen,o=e.onTimezoneLinkClick,l=e.resolveMessageHeight,m=e.isCompanyMeeting,u=e.companyLogo,d=e.companyName,g=e.disabled,f=void 0!==g&&g,p=e.isChatTakeover,O=void 0!==p&&p,E=Object(j.a)().t,h=Object(A.useState)(0),k=Object(c.a)(h,2),w=k[0],M=k[1],N=Object(A.useRef)(null),C=Object(A.useRef)(null),S=Object(pe.a)(N),_=Object(pe.a)(C),T=Object(A.useCallback)(function(){w!==i.length&&M(w+1)},[w,i]),P=Object(A.useCallback)(function(){w>0&&M(w-1)},[w]),z=Object(ye.a)({targetKey:"ArrowRight"}),I=Object(ye.a)({targetKey:"ArrowLeft"}),L=Object(y.a)(),x=L.activeColor,R=L.primaryTextColor;return Object(A.useEffect)(function(){z&&T(),I&&P()},[z,I,P,T]),Object(A.useEffect)(l,[i]),Object(we.a)(i)?null:v.a.createElement("div",{className:"drift-meeting-day-picker"},v.a.createElement("style",null,"\n          .drift-meeting-change-timezone.keyboard-focused,\n          .drift-meeting-day-picker--list-item.keyboard-focused,\n          .drift-meeting-day-picker--slot-next.keyboard-focused,\n          .drift-meeting-day-picker--slot-prev.keyboard-focused {\n            ".concat(Object(be.c)(x),"\n          }\n        ")),!O&&(m?v.a.createElement(ve,{companyLogo:u,companyName:d}):v.a.createElement(Ee,{primaryRecipientId:n,additionalRecipientIds:t.additionalAgents})),v.a.createElement("div",{className:"drift-meeting-day-picker--timezone"},v.a.createElement("span",{className:"drift-meeting-day-picker--timezone-label"},E("meeting.selectADay")),v.a.createElement(Me,{onClick:o,timezoneName:a.name,disabled:f})),v.a.createElement("ul",{className:s()("drift-meeting-day-picker--slots",{"drift-meeting-day-picker--slots__stacked":O})},i[w].map(function(e,a){return v.a.createElement(Ne,{key:"meeting-slot-".concat(a),meetingSlot:e,onItemClicked:function onItemClicked(){return r(e)},disabled:f})})),v.a.createElement("div",{className:"drift-meeting-day-picker--slot-nav"},w>0&&v.a.createElement(b.a,{className:s()("drift-meeting-day-picker--slot-prev",{"keyboard-focused":_}),onClick:function onClick(){return P()},style:R,disabled:f,"aria-label":"previous days",ref:C},E("meeting.prev")),w!==i.length-1&&v.a.createElement(b.a,{className:s()("drift-meeting-day-picker--slot-next",{"keyboard-focused":S}),onClick:function onClick(){return T()},style:R,disabled:f,"aria-label":"next days",ref:N},E("meeting.next"))))},Se=function MeetingError(e){var a=e.message,t=e.onRetryClicked,n=e.disabled,i=Object(j.a)().t;return v.a.createElement("div",{className:"drift-meeting-error"},v.a.createElement(p.d,null),v.a.createElement("div",{className:"drift-meeting-error-message"},v.a.createElement("span",null,a)),v.a.createElement(K.a,{onClick:t,disabled:n},i("meeting.chooseNewTime")))},_e=t("TVEO"),Te=function MeetingPoweredByDrift(e){var a=e.redirectUrl;return v.a.createElement("div",{className:"drift-meeting-confirmed-text"},v.a.createElement("a",{href:a},v.a.createElement(_e.a,{i18nKey:"composer.footer.meetingPoweredByDrift",components:[v.a.createElement(p.c,{height:12,width:12})]})))},Pe=function MeetingSchedulerCard(e){var a=e.agentId,t=e.additionalAgents,n=void 0===t?[]:t,i=e.children,r=e.duration,c=e.showRecipients,o=void 0!==c&&c,s=Object(j.a)().t,l=Object(Oe.a)(a,n),m=s("meeting.scheduleAMeeting");return o&&(m=a?"".concat(m," with ").concat(l):m),v.a.createElement(D.a,{className:"drift-meeting-scheduler"},v.a.createElement(B.a,{className:"drift-meeting-scheduler--header"},v.a.createElement("span",null,m),r&&v.a.createElement("span",null,s("meeting.duration",{duration:r}))),v.a.createElement("div",{className:"drift-meeting-scheduler--content"},i))},ze=t("KwHb"),Ie=function MeetingTimeSlot(e){var a=e.onMeetingTimeChosen,t=e.index,n=e.timeSlot,i=(e.timezone,e.disabled),r=Object(ke.a)(),c=r.hoverProps,o=r.isHovered,l=Object(y.a)(),m=l.borderStyles,u=l.primaryTextColor,g=Object(A.useRef)(null),f=Object(pe.a)(g),p=Object(j.a)().t;return v.a.createElement("li",Object.assign({className:s()("drift-meeting-time-picker--slot",{"keyboard-focused":f}),key:"slot-".concat(t)},c,{style:o?Object(d.a)({},m):{}}),v.a.createElement(b.a,{onClick:function onClick(){return a(n)},disabled:i,ref:g},v.a.createElement("span",{style:o?Object(d.a)({},u):{}},Object(O.a)(n).unixFmt(p("dt.format.time.short")))))},Le=function MeetingTimePicker(e){e.additionalAgents;var a=e.timezone,t=e.meetingSlot,n=e.onBackClicked,i=e.onMeetingTimeChosen,r=e.onTimezoneLinkClick,o=e.resolveMessageHeight,l=e.disabled,m=void 0!==l&&l,u=e.isCompanyMeeting,d=void 0!==u&&u,g=Object(j.a)().t,f=Object(A.useState)(0),O=Object(c.a)(f,2),E=O[0],h=O[1],k=Object(ze.a)(6,t.slots.sort(function(e,a){return e.time-a.time})),w=Object(A.useRef)(null),M=Object(A.useRef)(null),N=Object(A.useRef)(null),C=Object(pe.a)(w),S=Object(pe.a)(M),_=Object(pe.a)(N),T=Object(A.useCallback)(function(){E!==k.length-1&&h(E+1)},[E,k]),P=Object(A.useCallback)(function(){E>0&&h(E-1)},[E]),z=Object(ye.a)({targetKey:"ArrowRight"}),I=Object(ye.a)({targetKey:"ArrowLeft"}),L=Object(y.a)(),x=L.activeColor,R=L.primaryTextColor;return Object(A.useEffect)(function(){z&&T(),I&&P()},[z,I,T,P]),Object(A.useEffect)(o,[E]),v.a.createElement("div",{className:"drift-meeting-time-picker"},v.a.createElement("style",null,"\n            .drift-meeting-back-button.keyboard-focused,\n            .drift-meeting-time-picker--slot.keyboard-focused,\n            .drift-meeting-day-picker--slot-next.keyboard-focused,\n            .drift-meeting-day-picker--slot-prev.keyboard-focused {\n              ".concat(Object(be.c)(x),"\n            }\n          ")),v.a.createElement("header",{className:"drift-meeting-time-picker--header"},v.a.createElement(b.a,{className:s()("drift-meeting-back-button",{"keyboard-focused":C}),onClick:n,"aria-label":"back",disabled:m,ref:w},v.a.createElement(p.b,null)),v.a.createElement("span",{className:"drift-meeting-time-picker--header-day"},t.date)),v.a.createElement("div",{className:"drift-meeting-day-picker--timezone"},v.a.createElement("span",{className:"drift-meeting-day-picker--timezone-label"},g("meeting.selectATime")),v.a.createElement(Me,{onClick:r,timezoneName:a.name,disabled:m})),v.a.createElement("ul",{className:"drift-meeting-time-picker--timeslots"},k[E].map(function(e,t){return v.a.createElement(Ie,{key:"drift-meeting-time-slot-".concat(t),onMeetingTimeChosen:i,index:t,timeSlot:d?e.time:e,timezone:a,disabled:m})})),v.a.createElement("div",{className:"drift-meeting-day-picker--slot-nav"},E>0&&v.a.createElement(b.a,{className:s()("drift-meeting-day-picker--slot-prev",{"keyboard-focused":_}),onClick:function onClick(){return P()},style:R,disabled:m,ref:N},g("meeting.prev")),E!==k.length-1&&v.a.createElement(b.a,{className:s()("drift-meeting-day-picker--slot-next",{"keyboard-focused":S}),onClick:function onClick(){return T()},style:R,disabled:m,ref:M},g("meeting.next"))))},xe=t("oxCZ"),Re=t.n(xe),De=[{group:"us",zones:["America/Puerto_Rico","America/New_York","America/Chicago","America/Denver","America/Phoenix","America/Los_Angeles","America/Anchorage","Pacific/Honolulu"]},{group:"america",zones:["America/Adak","America/Anchorage","America/Anguilla","America/Antigua","America/Araguaina","America/Argentina/Buenos_Aires","America/Argentina/Catamarca","America/Argentina/ComodRivadavia","America/Argentina/Cordoba","America/Argentina/Jujuy","America/Argentina/La_Rioja","America/Argentina/Mendoza","America/Argentina/Rio_Gallegos","America/Argentina/Salta","America/Argentina/San_Juan","America/Argentina/San_Luis","America/Argentina/Tucuman","America/Argentina/Ushuaia","America/Aruba","America/Asuncion","America/Atikokan","America/Atka","America/Bahia","America/Barbados","America/Belem","America/Belize","America/Blanc-Sablon","America/Boa_Vista","America/Bogota","America/Boise","America/Buenos_Aires","America/Cambridge_Bay","America/Campo_Grande","America/Cancun","America/Caracas","America/Catamarca","America/Cayenne","America/Cayman","America/Chicago","America/Chihuahua","America/Coral_Harbour","America/Cordoba","America/Costa_Rica","America/Cuiaba","America/Curacao","America/Danmarkshavn","America/Dawson","America/Dawson_Creek","America/Denver","America/Detroit","America/Dominica","America/Edmonton","America/Eirunepe","America/El_Salvador","America/Ensenada","America/Fortaleza","America/Fort_Wayne","America/Glace_Bay","America/Godthab","America/Goose_Bay","America/Grand_Turk","America/Grenada","America/Guadeloupe","America/Guatemala","America/Guayaquil","America/Guyana","America/Halifax","America/Havana","America/Hermosillo","America/Indiana/Indianapolis","America/Indiana/Knox","America/Indiana/Marengo","America/Indiana/Petersburg","America/Indiana/Tell_City","America/Indiana/Vevay","America/Indiana/Vincennes","America/Indiana/Winamac","America/Indianapolis","America/Inuvik","America/Iqaluit","America/Jamaica","America/Jujuy","America/Juneau","America/Kentucky/Louisville","America/Kentucky/Monticello","America/Knox_IN","America/La_Paz","America/Lima","America/Los_Angeles","America/Louisville","America/Maceio","America/Managua","America/Manaus","America/Marigot","America/Martinique","America/Matamoros","America/Mazatlan","America/Mendoza","America/Menominee","America/Merida","America/Mexico_City","America/Miquelon","America/Moncton","America/Monterrey","America/Montevideo","America/Montreal","America/Montserrat","America/Nassau","America/New_York","America/Nipigon","America/Nome","America/Noronha","America/North_Dakota/Center","America/North_Dakota/New_Salem","America/Ojinaga","America/Panama","America/Pangnirtung","America/Paramaribo","America/Phoenix","America/Port-au-Prince","America/Porto_Acre","America/Port_of_Spain","America/Porto_Velho","America/Puerto_Rico","America/Rainy_River","America/Rankin_Inlet","America/Recife","America/Regina","America/Resolute","America/Rio_Branco","America/Rosario","America/Santa_Isabel","America/Santarem","America/Santiago","America/Santo_Domingo","America/Sao_Paulo","America/Scoresbysund","America/Shiprock","America/St_Barthelemy","America/St_Johns","America/St_Kitts","America/St_Lucia","America/St_Thomas","America/St_Vincent","America/Swift_Current","America/Tegucigalpa","America/Thule","America/Thunder_Bay","America/Tijuana","America/Toronto","America/Tortola","America/Vancouver","America/Virgin","America/Whitehorse","America/Winnipeg","America/Yakutat","America/Yellowknife"]},{group:"europe",zones:["Europe/Amsterdam","Europe/Andorra","Europe/Athens","Europe/Belfast","Europe/Belgrade","Europe/Berlin","Europe/Bratislava","Europe/Brussels","Europe/Bucharest","Europe/Budapest","Europe/Chisinau","Europe/Copenhagen","Europe/Dublin","Europe/Gibraltar","Europe/Guernsey","Europe/Helsinki","Europe/Isle_of_Man","Europe/Istanbul","Europe/Jersey","Europe/Kaliningrad","Europe/Kiev","Europe/Lisbon","Europe/Ljubljana","Europe/London","Europe/Luxembourg","Europe/Madrid","Europe/Malta","Europe/Mariehamn","Europe/Minsk","Europe/Monaco","Europe/Moscow","Europe/Nicosia","Europe/Oslo","Europe/Paris","Europe/Podgorica","Europe/Prague","Europe/Riga","Europe/Rome","Europe/Samara","Europe/San_Marino","Europe/Sarajevo","Europe/Simferopol","Europe/Skopje","Europe/Sofia","Europe/Stockholm","Europe/Tallinn","Europe/Tirane","Europe/Tiraspol","Europe/Uzhgorod","Europe/Vaduz","Europe/Vatican","Europe/Vienna","Europe/Vilnius","Europe/Volgograd","Europe/Warsaw","Europe/Zagreb","Europe/Zaporozhye","Europe/Zurich"]},{group:"asia",zones:["Asia/Aden","Asia/Almaty","Asia/Amman","Asia/Anadyr","Asia/Aqtau","Asia/Aqtobe","Asia/Ashgabat","Asia/Ashkhabad","Asia/Baghdad","Asia/Bahrain","Asia/Baku","Asia/Bangkok","Asia/Beirut","Asia/Bishkek","Asia/Brunei","Asia/Calcutta","Asia/Choibalsan","Asia/Chongqing","Asia/Chungking","Asia/Colombo","Asia/Dacca","Asia/Damascus","Asia/Dhaka","Asia/Dili","Asia/Dubai","Asia/Dushanbe","Asia/Gaza","Asia/Harbin","Asia/Ho_Chi_Minh","Asia/Hong_Kong","Asia/Hovd","Asia/Irkutsk","Asia/Istanbul","Asia/Jakarta","Asia/Jayapura","Asia/Jerusalem","Asia/Kabul","Asia/Kamchatka","Asia/Karachi","Asia/Kashgar","Asia/Kathmandu","Asia/Katmandu","Asia/Kolkata","Asia/Krasnoyarsk","Asia/Kuala_Lumpur","Asia/Kuching","Asia/Kuwait","Asia/Macao","Asia/Macau","Asia/Magadan","Asia/Makassar","Asia/Manila","Asia/Muscat","Asia/Nicosia","Asia/Novokuznetsk","Asia/Novosibirsk","Asia/Omsk","Asia/Oral","Asia/Phnom_Penh","Asia/Pontianak","Asia/Pyongyang","Asia/Qatar","Asia/Qyzylorda","Asia/Rangoon","Asia/Riyadh","Asia/Saigon","Asia/Sakhalin","Asia/Samarkand","Asia/Seoul","Asia/Shanghai","Asia/Singapore","Asia/Taipei","Asia/Tashkent","Asia/Tbilisi","Asia/Tehran","Asia/Tel_Aviv","Asia/Thimbu","Asia/Thimphu","Asia/Tokyo","Asia/Ujung_Pandang","Asia/Ulaanbaatar","Asia/Ulan_Bator","Asia/Urumqi","Asia/Vientiane","Asia/Vladivostok","Asia/Yakutsk","Asia/Yekaterinburg","Asia/Yerevan"]},{group:"africa",zones:["Africa/Abidjan","Africa/Accra","Africa/Addis_Ababa","Africa/Algiers","Africa/Asmara","Africa/Asmera","Africa/Bamako","Africa/Bangui","Africa/Banjul","Africa/Bissau","Africa/Blantyre","Africa/Brazzaville","Africa/Bujumbura","Africa/Cairo","Africa/Casablanca","Africa/Ceuta","Africa/Conakry","Africa/Dakar","Africa/Dar_es_Salaam","Africa/Djibouti","Africa/Douala","Africa/El_Aaiun","Africa/Freetown","Africa/Gaborone","Africa/Harare","Africa/Johannesburg","Africa/Kampala","Africa/Khartoum","Africa/Kigali","Africa/Kinshasa","Africa/Lagos","Africa/Libreville","Africa/Lome","Africa/Luanda","Africa/Lubumbashi","Africa/Lusaka","Africa/Malabo","Africa/Maputo","Africa/Maseru","Africa/Mbabane","Africa/Mogadishu","Africa/Monrovia","Africa/Nairobi","Africa/Ndjamena","Africa/Niamey","Africa/Nouakchott","Africa/Ouagadougou","Africa/Porto-Novo","Africa/Sao_Tome","Africa/Timbuktu","Africa/Tripoli","Africa/Tunis","Africa/Windhoek"]},{group:"australia",zones:["Australia/ACT","Australia/Adelaide","Australia/Brisbane","Australia/Broken_Hill","Australia/Canberra","Australia/Currie","Australia/Darwin","Australia/Eucla","Australia/Hobart","Australia/LHI","Australia/Lindeman","Australia/Lord_Howe","Australia/Melbourne","Australia/North","Australia/NSW","Australia/Perth","Australia/Queensland","Australia/South","Australia/Sydney","Australia/Tasmania","Australia/Victoria","Australia/West","Australia/Yancowinna"]},{group:"indian",zones:["Indian/Antananarivo","Indian/Chagos","Indian/Christmas","Indian/Cocos","Indian/Comoro","Indian/Kerguelen","Indian/Mahe","Indian/Maldives","Indian/Mauritius","Indian/Mayotte","Indian/Reunion"]},{group:"atlantic",zones:["Atlantic/Azores","Atlantic/Bermuda","Atlantic/Canary","Atlantic/Cape_Verde","Atlantic/Faeroe","Atlantic/Faroe","Atlantic/Jan_Mayen","Atlantic/Madeira","Atlantic/Reykjavik","Atlantic/South_Georgia","Atlantic/Stanley","Atlantic/St_Helena"]},{group:"pacific",zones:["Pacific/Apia","Pacific/Auckland","Pacific/Chatham","Pacific/Easter","Pacific/Efate","Pacific/Enderbury","Pacific/Fakaofo","Pacific/Fiji","Pacific/Funafuti","Pacific/Galapagos","Pacific/Gambier","Pacific/Guadalcanal","Pacific/Guam","Pacific/Honolulu","Pacific/Johnston","Pacific/Kiritimati","Pacific/Kosrae","Pacific/Kwajalein","Pacific/Majuro","Pacific/Marquesas","Pacific/Midway","Pacific/Nauru","Pacific/Niue","Pacific/Norfolk","Pacific/Noumea","Pacific/Pago_Pago","Pacific/Palau","Pacific/Pitcairn","Pacific/Ponape","Pacific/Port_Moresby","Pacific/Rarotonga","Pacific/Saipan","Pacific/Samoa","Pacific/Tahiti","Pacific/Tarawa","Pacific/Tongatapu","Pacific/Truk","Pacific/Wake","Pacific/Wallis","Pacific/Yap"]},{group:"antarctica",zones:["Antarctica/Casey","Antarctica/Davis","Antarctica/DumontDUrville","Antarctica/Macquarie","Antarctica/Mawson","Antarctica/McMurdo","Antarctica/Palmer","Antarctica/Rothera","Antarctica/South_Pole","Antarctica/Syowa","Antarctica/Vostok"]},{group:"arctic",zones:["Arctic/Longyearbyen"]}],Be={threshold:.4,keys:["value","name"]},Ge=function Timezone(e){var a=e.zone,t=e.disabled,n=e.index,i=e.onTimezoneSelect,r=Object(A.useRef)(null),c=Object(pe.a)(r),o=function getGmtTimezoneOffset(e){var a="";try{var t=O.a.now(e).offset(),n=t>=0?"+":"-",i=Math.abs(t);a="(GMT"+(n+fe(Math.floor(i/60)))+":"+fe(i%60)+")"}catch(r){Object(E.f)(r)}return a}(a.value);return v.a.createElement("li",{className:s()("drift-meeting-timezone-picker-list-item",{"keyboard-focused":c}),key:"timezone-option-".concat(n)},v.a.createElement(b.a,{onClick:function onClick(){return i(a)},disabled:t,ref:r},o," ",a.name))},He=function TimezoneList(e){var a=e.timezoneOptions,t=e.onTimezoneSelect,n=e.disabled,i=a.filter(function(e){return!!e.zones.length});return v.a.createElement("ul",{className:"drift-meeting-timezone-picker__list"},v.a.createElement("style",null,"\n          .drift-meeting-timezone-picker-list-item.keyboard-focused {\n            ".concat(Object(be.c)(Object(y.a)().activeColor),"\n          }\n        ")),i.map(function(e,a){var i=v.a.createElement("li",{className:"drift-meeting-timezone-picker-group",key:"timezone-option-group-".concat(a)},e.group),r=e.zones.map(function(e,a){return v.a.createElement(Ge,{zone:e,disabled:n,index:a,key:a,onTimezoneSelect:t})});return[i].concat(Object(u.a)(r))}))},Fe=function TimezonePicker(e){var a=e.onBack,t=e.onTimezoneSelect,n=e.resolveMessageHeight,i=e.disabled,r=void 0!==i&&i,o=Object(j.a)().t,l=Object(A.useMemo)(function(){return function translateTimeZones(e){return De.map(function(a){return{group:e(me(a.group)),zones:a.zones.map(function(a){return{name:e(ue(a)),value:a}})}})}(o)},[o]),m=Object(A.useState)(l),u=Object(c.a)(m,2),d=u[0],g=u[1],f=Object(V.a)(""),O=Object(A.useRef)(null),E=Object(pe.a)(O);return Object(A.useEffect)(function(){if(""!==f.value){var e=l.map(function(e){var a=new Re.a(e.zones,Be);return{group:e.group,zones:a.search(f.value)}});g(e)}else g(l)},[f,l]),Object(A.useEffect)(n,[]),v.a.createElement("div",{className:"drift-meeting-timezone-picker"},v.a.createElement("div",{className:"drift-meeting-timezone__header"},v.a.createElement("style",null,"\n            .drift-meeting-back-button.keyboard-focused {\n              ".concat(Object(be.c)(Object(y.a)().activeColor),"\n            }\n          ")),v.a.createElement(b.a,{className:s()("drift-meeting-back-button drift-meeting-timezone-back-button",{"keyboard-focused":E}),onClick:a,"aria-label":"back",disabled:r,ref:O},v.a.createElement(p.b,null)),v.a.createElement("span",{className:"drift-meeting-timezone__title"},o("meeting.timeZone"))),v.a.createElement("div",{className:"drift-meeting-timezone-picker--container"},v.a.createElement("div",{className:"drift-meeting-timezone-picker-input"},v.a.createElement("input",Object.assign({type:"search",className:"drift-widget-input",placeholder:o("meeting.timeZoneSearchPlaceholder")},f,{disabled:r}))),v.a.createElement(He,{timezoneOptions:d,onTimezoneSelect:t,disabled:r})))},Ke=function MeetingScheduler(e){var a=e.messageId,t=e.resolveMessageHeight,n=e.redirectUrl,o=void 0===n?"":n,s=e.isScheduled,l=void 0!==s&&s,m=Object($.a)(a),u=m.isCompanyMeeting,d=m.meetingRecipientAgents,g=d.length>0?d[0]:null,f=Object(j.a)().t,b=Object(A.useState)(),p=Object(c.a)(b,2),h=p[0],y=p[1],w=Object(A.useState)([]),C=Object(c.a)(w,2),S=C[0],_=C[1],T=Object(A.useState)(!1),P=Object(c.a)(T,2),I=P[0],L=P[1],x=Object(A.useState)(u?{value:"America/New_York",name:"New York"}:null),R=Object(c.a)(x,2),D=R[0],B=R[1],G=Object(A.useState)(null),H=Object(c.a)(G,2),F=H[0],K=H[1],U=Object(A.useState)(null),V=Object(c.a)(U,2),J=V[0],Z=V[1],q=Object(A.useState)([]),W=Object(c.a)(q,2),Q=W[0],Y=W[1],ae=Object(A.useState)(l),ne=Object(c.a)(ae,2),me=ne[0],fe=ne[1],be=Object(A.useState)(!1),pe=Object(c.a)(be,2),Ae=pe[0],ve=pe[1],je=Object(A.useState)(!1),Oe=Object(c.a)(je,2),ye=Oe[0],ke=Oe[1],we=Object(A.useState)(!1),Me=Object(c.a)(we,2),Ne=Me[0],_e=Me[1],ze=Object(A.useState)(null),Ie=Object(c.a)(ze,2),xe=Ie[0],Re=Ie[1],De=Object(A.useState)(null),Be=Object(c.a)(De,2),Ge=Be[0],He=Be[1],Ke=Object(A.useState)(null),Ue=Object(c.a)(Ke,2),Ve=Ue[0],Je=Ue[1],Ze=Object(N.c)(ee.a).showBranding,qe=void 0!==Ze&&Ze,We=Object(N.c)(function(e){return e.conversations}).activeConversation,Qe=Object(X.a)(),Ye=Object(re.a)().conversationHistoryOpen,Xe=Object(N.b)(),$e=Object(N.c)(se.b),ea=Object(A.useCallback)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.entries(e).reduce(function(e,t){var n=Object(c.a)(t,2),i=n[0],r=n[1],o=ge(parseInt(i),a),s=o.format("{iso-month}_{date}_{year}");return e[s]?e[s].slots.push({time:parseInt(i),agents:r}):e[s]=de(o,{time:parseInt(i),agents:r},f("dt.format.date.full")),e},{})},[f]),aa=Object(A.useCallback)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(M.a)([],["slots"],e).reduce(function(e,t){var n=ge(t,a),i=n.format("{iso-month}_{date}_{year}");return e[i]?e[i].slots.push(t):e[i]=de(n,t,f("dt.format.date.full")),e},{})},[f]),ta=Object(A.useCallback)(Object(r.a)(i.a.mark(function _callee(){var e,a,t,n;return i.a.wrap(function _callee$(i){for(;;)switch(i.prev=i.next){case 0:if(i.prev=0,g){i.next=5;break}return _e(!0),Re(le({})),i.abrupt("return");case 5:return ve(!0),i.next=8,Object(te.a)({agentId:g,additionalAgents:m.additionalAgents,orgMeetingType:m.orgMeetingType});case 8:e=i.sent,a=e.data,y(a),t=$e||a.agentTimezone,B({name:f(ue(t)),value:t}),ve(!1),i.next=22;break;case 16:i.prev=16,i.t0=i.catch(0),n=Object(M.a)({},["response","data"],i.t0),_e(!0),Re(le(n)),ve(!1);case 22:case"end":return i.stop()}},_callee,null,[[0,16]])})),[g,m.additionalAgents,m.orgMeetingType,f,$e]),na=Object(A.useCallback)(Object(r.a)(i.a.mark(function _callee2(){var e,a,t,n,r;return i.a.wrap(function _callee2$(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,ve(!0),i.next=4,Object(te.b)({agentIds:d,orgMeetingType:m.orgMeetingType});case 4:n=i.sent,He(null===(e=n.data)||void 0===e?void 0:e.logoUrl),Je(null===(a=n.data)||void 0===a?void 0:a.companyName),y(null===(t=n.data)||void 0===t?void 0:t.slotMap),ve(!1),i.next=17;break;case 11:i.prev=11,i.t0=i.catch(0),r=Object(M.a)({},["response","data"],i.t0),_e(!0),Re(le(r)),ve(!1);case 17:case"end":return i.stop()}},_callee2,null,[[0,11]])})),[d,m.orgMeetingType]),ia=function sendMeetingMessage(e){var a=Math.floor((e.end-e.start)/6e4),t=u?e.agentId:g,n={id:e.id,url:e.url,availabilitySlot:J,slotDuration:h.slotDuration||a,agentId:t,bookingAgentId:m.schedulingAgentId,conversationId:We,endUserTimezone:D.value,agentTimezone:h.agentTimezone};Xe(Object(k.m)({message:Object(oe.a)({activeConversation:We,message:"",attributes:{scheduleMeetingFlow:!0,meetingType:m.meetingType,scheduleMeetingWith:t,widgetGuid:Object(E.u)(),appointmentInfo:n,meetingSlug:m.orgMeetingType},isMetaMessage:!0})}))},ra=function(){var e=Object(r.a)(i.a.mark(function _callee3(){var e,a,t,n,r;return i.a.wrap(function _callee3$(i){for(;;)switch(i.prev=i.next){case 0:if(ke(!0),i.prev=1,!u){i.next=8;break}return i.next=5,Object(te.c)({availableAgents:Q,endUserTimeZone:D.value,availabilitySlot:J,meetingType:m.meetingType,meetingSource:m.meetingSource,conversationId:We,bookedByUserId:m.schedulingAgentId,orgMeetingType:m.orgMeetingType});case 5:i.t0=i.sent,i.next=11;break;case 8:return i.next=10,Object(te.d)({endUserTimeZone:D.value,availabilitySlot:J,agentId:g,meetingType:m.meetingType,meetingSource:m.meetingSource,conversationId:We,bookedByUserId:m.schedulingAgentId,orgMeetingType:m.orgMeetingType});case 10:i.t0=i.sent;case 11:e=i.t0,a=u?e.data.agentId:g,t=u?e.data.start:J,n=u?Math.floor((e.data.end-e.data.start)/6e4):h.slotDuration,Object(ce.j)({agentId:a,meetingTime:t,duration:n,timeZone:D.value,conversationId:We}),fe(!0),ke(!1),ia(e.data),i.next=28;break;case 21:i.prev=21,i.t1=i.catch(1),r=Object(M.a)({},["response","data"],i.t1),_e(!0),ke(!1),r&&"Conflict"===r.key&&y(null),Re(le(r));case 28:case"end":return i.stop()}},_callee3,null,[[1,21]])}));return function bookMeeting(){return e.apply(this,arguments)}}(),ca=function onTimezoneLinkClick(){return L(!0)},oa=!!F&&!J&&!I,sa=!F&&!J&&!I,la=!!F&&!!J&&!I,ma=Ae||!S.length,ua=function clearMeetingSlot(){return K(null)},da=function clearMeetingTimeAndAgents(){Z(null),Y([])};return Object(A.useEffect)(function(){if(h&&D){var e=u?ea(h,D):aa(h,D),a=Qe?6:3,t=Object(E.c)(a,e);_(t)}},[D,ea,aa,h,u,Qe]),Object(A.useEffect)(function(){u?na():ta()},[na,ta,u]),Object(A.useLayoutEffect)(t,[ma,Ne]),Ne?v.a.createElement(Pe,null,v.a.createElement(Se,{message:f(xe),onRetryClicked:function onMeetingScheduleRetry(){_e(!1),ua(),da(),h&&!sa||(u?na():ta())},disabled:Ye})):ma||ye?v.a.createElement(Pe,{agentId:u?null:g,additionalAgents:m.additionalAgents,duration:h?h.slotDuration:null,showRecipients:Qe&&!u},v.a.createElement("div",{className:"drift-meeting-card-body loading-state"},v.a.createElement(z.b,{"aria-live":"polite",message:f("status.loading"),clearOnUnmount:!0}),!Qe&&!u&&v.a.createElement(Ee,{additionalRecipientIds:m.additionalAgents,avatarSize:"LARGE",primaryRecipientId:g}),v.a.createElement(ie,{size:"LARGE"}),qe&&v.a.createElement(Te,{redirectUrl:o}))):v.a.createElement(Pe,{agentId:u?null:g,additionalAgents:m.additionalAgents,duration:h.slotDuration,showRecipients:Qe&&!u},v.a.createElement("div",{className:"drift-meeting-scheduler--meeting-info"},sa&&v.a.createElement(Ce,{timezone:D,onMeetingDateChosen:function onMeetingDateChosen(e){K(e)},meetingSlotSets:S,meetingAgent:g,meetingInfo:m,onTimezoneLinkClick:ca,resolveMessageHeight:t,disabled:Ye,isChatTakeover:Qe,isCompanyMeeting:u,companyLogo:Ge,companyName:Ve}),oa&&v.a.createElement(Le,{additionalAgents:m.additionalAgents,timezone:D,meetingSlot:F,onBackClicked:ua,onMeetingTimeChosen:function onMeetingTimeChosen(e){if(Z(e),u){var a,t=null===(a=F.slots.find(function(a){return a.time===e}))||void 0===a?void 0:a.agents;t&&Y(t)}},onTimezoneLinkClick:ca,resolveMessageHeight:t,isCompanyMeeting:u,disabled:Ye}),la&&v.a.createElement(he,{meetingAgentId:u?null:g,additionalAgents:m.additionalAgents,meetingStart:Object(O.a)(J),meetingEnd:u?null:Object(O.a)(J).add(h.slotDuration,"minute"),timezone:D.value,onBackClicked:da,onConfirmClicked:ra,isBookingPending:ye,isConfirmed:me,resolveMessageHeight:t,disabled:Ye,companyName:Ve,companyLogo:Ge,isCompanyMeeting:u}),I&&v.a.createElement(Fe,{onTimezoneSelect:function onTimezoneSelected(e){B(e),L(!1)},onBack:function onTimezoneSelectBack(){return L(!1)},resolveMessageHeight:t,disabled:Ye})))},Ue=function MeetingMessage(e){var a=e.attributes,t=e.id,n=e.body,o=void 0===n?"":n,s=e.resolveMessageHeight,l=e.nextMessage,m=Object(M.a)(t,["widgetGuid"],a),u=Object($.a)(m),d=u.shouldPresentConfirmationCard,g=u.shouldPresentSchedulingCard,f=u.appointmentInfo,b=u.additionalAgents,p=Object(A.useState)(""),j=Object(c.a)(p,2),h=j[0],y=j[1],k=Object(X.a)(),w=!!Object(M.a)(null,["attributes","appointmentInfo"],l),C=Object(N.c)(ee.a).showBranding,S=void 0!==C&&C;return Object(A.useEffect)(function(){!function(){var e=Object(r.a)(i.a.mark(function _callee(){var e;return i.a.wrap(function _callee$(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(ae.a)("scheduling-card");case 3:e=a.sent,y(e),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),Object(E.n)({data:["Failed to get referral URL: ".concat(a.t0)]});case 10:case"end":return a.stop()}},_callee,null,[[0,7]])}));return function getDriftReferralUrl(){return e.apply(this,arguments)}}()()},[]),g?v.a.createElement(v.a.Fragment,null,v.a.createElement(x,Object.assign({},e,{body:o})),!w&&v.a.createElement(Ke,{messageId:t,redirectUrl:h,resolveMessageHeight:s})):d?v.a.createElement(Pe,{agentId:f.agentId,additionalAgents:b,duration:f.slotDuration,showRecipients:k},v.a.createElement("div",{className:"drift-meeting-scheduler--meeting-info"},v.a.createElement(he,{meetingStart:Object(O.a)(f.availabilitySlot),meetingEnd:Object(O.a)(f.availabilitySlot).add(f.slotDuration,"minute"),meetingAgentId:f.agentId,additionalAgents:b,timezone:f.endUserTimezone,resolveMessageHeight:s,isConfirmed:!0}),S&&v.a.createElement(Te,{redirectUrl:h}))):null},Ve=x,Je=t("UXBQ"),Ze=t("ggb3"),qe=t.n(Ze),We=function FileAttachmentMessage(e){var a=e.attachment,t=void 0===a?{}:a,n=e.multi,i=Object(y.a)(),r=i.buttonStyles,c=i.inlineFileStyles;return t.fileName?v.a.createElement(v.a.Fragment,null,v.a.createElement(b.a,{className:"drift-widget-message--file",style:n?r:c,onClick:function onClick(){return function downloadFile(e){var a=document.createElement("a");a.style.display="none",a.href=e.publicUrl,a.download=e.fileName,a.click()}(t)},"aria-label":"download file"},v.a.createElement(p.k,{width:16,height:16}),v.a.createElement("span",{className:"drift-widget-attachment--filename",title:t.fileName},t.fileName))):null},Qe=t("7oto"),Ye=function ImageAttachmentMessage(e){var a=e.attachment,t=void 0===a?{}:a,n=e.resolveMessageHeight,i=void 0===n?function(){}:n,r=Object(A.useState)(!1),o=Object(c.a)(r,2),s=o[0],l=o[1];return v.a.createElement(v.a.Fragment,null,v.a.createElement(b.a,{className:"drift-widget-attachment--img","aria-label":"fullscreen file",onClick:function onClick(){return function triggerFullScreen(e){Object(Qe.a)({topic:"generate-new-content-box",message:{type:"image",media:e}})}(t.publicUrl)}},v.a.createElement("img",{src:t.publicUrl,alt:t.fileName,onLoad:function onLoad(){!s&&i(),!s&&l(!0)}})))},Xe=(t("Qp3a"),function AttachmentMessage(e){var a=e.attachmentIds,t=void 0===a?[]:a,n=e.style,c=e.resolveMessageHeight,o=Object(N.b)(),l=Object(N.c)(function(e){return e.conversations.attachments}),m=qe.a.CancelToken.source();Object(A.useEffect)(function(){var e=t.filter(function(e){return!l[e]}),a=function(){var a=Object(r.a)(i.a.mark(function _callee(){var a,t;return i.a.wrap(function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Je.a)(e,m.token);case 3:a=n.sent,t=a.data,o(Object(k.e)({attachments:t})),n.next=10;break;case 8:n.prev=8,n.t0=n.catch(0);case 10:case"end":return n.stop()}},_callee,null,[[0,8]])}));return function fetchAttachmentsForMessage(){return a.apply(this,arguments)}}();return e.length&&a(),function(){m.cancel()}},[l,t,m,o]);var u=Object(A.useMemo)(function(){return t&&t.map(function(e){return l[e]?function isImage(e){var a=e.mimeType;return/image/.test(a)&&"image/svg+xml"!==a}(l[e])?v.a.createElement(Ye,{attachment:l[e],key:"drift-widget-attachment--".concat(e),resolveMessageHeight:c}):v.a.createElement(We,{multi:t.length>1,attachment:l[e],key:"drift-widget-attachment--".concat(e)}):null})},[t,l,c]);return v.a.createElement("div",{style:n,className:s()("drift-widget-attachment drift-widget-message--box",{"drift-widget-attachment--multi":t&&t.length>1})},u)}),$e=(t("mQ2C"),function UnfurlMessage(e){var a=e.unfurlData,t=e.style,n=void 0===t?{}:t,i=e.resolveMessageHeight,r=void 0===i?function(){}:i,c=e.sender,o=a.html,l=a.meta,m=void 0===l?{}:l,u=a.links,d=void 0===u?{}:u,g=a.url,f=void 0===g?"":g,b=a.rel,p=void 0===b?[]:b;Object(A.useLayoutEffect)(function(){r()},[r,o]);var j=Object(A.useMemo)(function(){return!!m.title||!!m.description||!!m.site},[m]),O=Object(A.useMemo)(function(){return Object(M.a)(null,["thumbnail",0],d)},[d]),E=Object(A.useMemo)(function(){return Object(M.a)(f,["site"],m)},[f,m]),h=Object(A.useMemo)(function(){return p[0]},[p]),y=Object(A.useMemo)(function(){return"player"===h},[h]),k=Object(A.useMemo)(function(){return!y&&O},[y,O]);return Object(A.useMemo)(function(){return(k||y)&&j},[k,y,j])?v.a.createElement("li",{className:"drift-widget-message drift-widget-message--unfurl drift-widget-message-sender--".concat(c)},v.a.createElement("div",{className:s()("drift-widget-message--box drift-widget-message--unfurl-container"),style:n},y&&v.a.createElement("div",{className:"drift-widget-message--unfurl-video",dangerouslySetInnerHTML:{__html:o}}),k&&v.a.createElement("div",{className:"drift-widget-message--unfurl-image"},v.a.createElement("img",{alt:"".concat(E," - thumbnail"),src:O.href})),j&&v.a.createElement("div",{className:"drift-widget-message--unfurl_meta"},m.title&&v.a.createElement("h3",{className:"drift-widget-message--unfurl_title"},v.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:f,title:m.title},m.title)),m.description&&v.a.createElement("p",{className:"drift-widget-message--unfurl_description"},m.description),m.site&&v.a.createElement("p",{className:"drift-widget-message--unfurl_site"},m.site)))):null}),ea=(t("ZP32"),function MessageSentTimestamp(e){var a=e.sender,t=e.deliveredAt,n=Object(j.a)().t;return v.a.createElement("span",{className:"drift-widget-message-timestamp drift-widget-message-timestamp--".concat(a)},Object(O.a)(t).unixFmt(n("dt.format.time.short")))}),aa=function MessageComponent(e){var a=e.message,t=e.nextMessage,n=e.isLastGroup,i=e.isLastMessage,r=e.resolveMessageHeight,o=Object(A.useState)([]),l=Object(c.a)(o,2),m=l[0],p=l[1],j=Object(A.useState)(null),_=Object(c.a)(j,2),T=_[0],P=_[1],z=Object(N.b)(),I=Object(N.c)(function(e){return Object(M.a)(!1,["embed","configuration","theme","showUnfurl"],e)}),L=Object(y.a)(),x=L.backgroundStyles,D=L.borderStyles,B=L.textColorStyles,G=function resolveMessageComponent(e){var a=e.attributes,t=a.isBot,n=void 0!==t&&t,i=a.show_email_capture_card,r=a.conversationRating;return i?Y:Object(w.i)(e)?Ue:n?R:r?F:Ve}(a),H=Object(w.h)(a)?C.d.END_USER:C.d.AGENT;Object(A.useEffect)(function(){if(!Object(w.e)(a,"instantMeeting")){var e=Object(u.a)(Object(S.a)(a.body));e.length&&p(e)}},[a]),Object(A.useEffect)(function(){if(m.length>0){var e=document.createElement("textarea");e.innerHTML=m[0],Object(g.a)(e.value.replace("#61;","")).then(function(e){var a=e.data;P(a)}).catch(function(e){return Object(E.n)({data:["Failed to unfurl url: ".concat(m[0]),e]})})}},[m]),Object(A.useLayoutEffect)(function(){r()},[r,n]);var K=!!a.attributes.appointmentInfo||!!a.attributes.conversationRating||a.type===C.e.EMAIL_CAPTURE_CARD,U=!!a.body||K,V=I&&T,J=a.attachments&&a.attachments.length>0;if(!U&&!V&&!J)return null;var Z=Object(M.a)(null,["createdAt"])(a),q=Object(M.a)(null,["attributes","generatedAt"])(a),W=!Z&&O.a.now().isAfter(Object(O.a)(q).add(30,"second")),Q=!Z&&W;return v.a.createElement(v.a.Fragment,null,U&&v.a.createElement("li",{className:s()("drift-widget-message drift-widget-message-sender--".concat(H),{"drift-widget-message-failed":Q})},v.a.createElement(G,Object.assign({},a,{isLastGroup:n,isLastMessage:i,nextMessage:t,resolveMessageHeight:r,style:H===C.d.END_USER?Object(d.a)(Object(d.a)({},x),B):{}})),!K&&Z&&v.a.createElement(ea,{sender:H,deliveredAt:Z}),Q&&v.a.createElement(b.a,{onClick:function doSendMessage(){z(Object(k.m)({message:Object(d.a)(Object(d.a)({},a),{},{attributes:Object(d.a)(Object(d.a)({},a.attributes),{},{generatedAt:(new Date).valueOf()})})}))}},v.a.createElement(f.a,{height:12,width:12}))),V&&v.a.createElement($e,{unfurlData:T,resolveMessageHeight:r,style:H===C.d.END_USER?Object(d.a)({},D):{},sender:H}),J&&v.a.createElement("li",{className:"drift-widget-message drift-widget-message-sender--".concat(H)},v.a.createElement(Xe,{attachmentIds:a.attachments,resolveMessageHeight:r,style:H===C.d.END_USER?Object(d.a)(Object(d.a)({},x),B):{}}),v.a.createElement(ea,{sender:H,deliveredAt:Z})),v.a.createElement(h,{message:a,isLastGroup:n,isLastMessage:i,delivered:Z,generated:q,messageTimedOut:W,deliveryFailed:Q,resolveMessageHeight:r}))},ta=t("yEsl"),na=t("7IKl"),ia=(t("UwV1"),function getAvatarPositionClassName(e){var a=Object(w.i)(e),t=e.attributes.show_email_capture_card;return"message-group-avatar-".concat(void 0!==t&&t||a?"top":"bottom")}),ra=function MessageGroupHeader(e){var a=e.senderType,t=e.senderId,n=Object(na.a)(t);return a!==C.d.AGENT?null:v.a.createElement("li",{className:"drift-widget-message-sender"},v.a.createElement("span",{className:"drift-widget-message--meta-author"},n))},ca=function MessageGroup(e){var a=e.messages,t=void 0===a?[]:a,n=e.isLastGroup,i=void 0!==n&&n,r=e.showTimestamp,o=void 0!==r&&r,l=e.role,u=void 0===l?"cell":l,d=e.resolveMessageHeight,g=void 0===d?function(){}:d,f=Object(j.a)().t;Object(A.useLayoutEffect)(function(){g()},[g,i,o]);var b=Object(c.a)(t,1)[0],p=Object(w.h)(b)?C.d.END_USER:C.d.AGENT,E=b.authorId,h=t[t.length-1],y=i&&Object(w.e)(h,"buttons");return v.a.createElement("div",{role:u,className:s()("drift-widget-message-group-wrapper",{"drift-widget-message-group-wrapper--last":i})},o&&v.a.createElement("p",{className:"drift-widget-message-group-timestamp"},function formatTimestamp(e,a){return e>0?Object(O.a)(e).isSame(O.a.now(),"date")?"".concat(a("dt.today")," ").concat(Object(O.a)(e).unixFmt(a("dt.format.time.short"))):Object(O.a)(e).unixFmt(a("dt.format.datetime.short")):""}(t[0].createdAt,f)),v.a.createElement("ul",{className:"drift-widget-message-group drift-widget-message-group-type--".concat(p)},v.a.createElement(ra,{senderType:p,senderId:E}),t.map(function(e,a){var n=a===t.length-1,r=n?null:t[a+1];return v.a.createElement(A.Fragment,{key:e.attributes.generatedAt||e.id||e.attributes.widgetGuid},n&&p===C.d.AGENT&&v.a.createElement("li",{className:s()("drift-widget-message-group-avatar",ia(e))},v.a.createElement(ta.a,{id:E,size:"SMALL"})),v.a.createElement(aa,{resolveMessageHeight:g,message:e,nextMessage:r,isLastMessage:n,isLastGroup:i}))})),y&&v.a.createElement(m.a,{message:h}))},oa=t("6wvX"),sa=t("fJrp"),la=t("xqp/"),ma=t("TbSn"),ua=t("mfas"),da=t("XuDI"),ga=(t("P6Di"),function shouldShowTimestamp(e,a){if(!e)return!0;var t=e?e[e.length-1].createdAt:0;return Object(O.a)(a[0].createdAt).isAfter(Object(O.a)(t).add(2,"hour"))}),fa=function setScrollTop(e,a,t){if(e.scrollTop!==a){var n=e.style;t&&(n["-webkit-overflow-scrolling"]="auto",n.overflow="hidden"),e.scrollTop=a,t&&(n.overflow="scroll",n["-webkit-overflow-scrolling"]="touch")}};a.a=function MessageGroupList(e){var a=e.reflowHidden,t=e.messageGroups,n=e.messages,o=e.fetchMessages,m=e.activeConversation,u=e.disabled,d=void 0!==u&&u,g=Object(y.a)().widgetBackgroundStyles,f=Object(N.c)(function(e){return e.view}).chatOpen,b=Object(N.c)(function(e){return Object(M.a)({},["conversations","conversations",m],e)}),p=b.hasMoreMessages,j=b.nextPageMessageId,O=Object(oa.a)(),h=Object(A.useState)(!0),k=Object(c.a)(h,2),S=k[0],_=k[1],T=Object(A.useState)(!1),P=Object(c.a)(T,2),z=P[0],I=P[1],L=Object(A.useState)(!1),x=Object(c.a)(L,2),R=x[0],D=x[1],B=Object(A.useState)(!1),G=Object(c.a)(B,2),H=G[0],F=G[1],K=Object(A.useRef)(null),U=Object(A.useRef)(0),V=Object(A.useRef)(!1),Z=Object(A.useMemo)(function(){return Object(ma.a)(n)},[n]),q=Object(sa.a)(Z),W=!!q&&Z!==q,Q=t.length,Y=!z&&p&&f,X=Object(A.useMemo)(function(){return t.map(function(e,a){var n=a===t.length-1,i=a>0?t[a-1]:null,r=e[0].attributes.widgetGuid||e[0].id;return v.a.createElement(ca,{key:"messageGroup-".concat(r),role:"listitem",messages:e,isLastGroup:n,showTimestamp:ga(i,e)})})},[t]),$=Object(A.useCallback)(function(){var e=Object(r.a)(i.a.mark(function _callee(e){return i.a.wrap(function _callee$(a){for(;;)switch(a.prev=a.next){case 0:return I(!0),D(!0),a.next=4,o({from:e});case 4:F(!0),I(!1),Object(E.e)(function(){return D(!1)},1e3);case 7:case"end":return a.stop()}},_callee)}));return function(a){return e.apply(this,arguments)}}(),[o]),ee=Object(A.useCallback)(function(e){e.target.scrollTop<=200&&Y&&!H&&$(j)},[$,j,Y,H]);Object(la.a)(ee,K),Object(A.useLayoutEffect)(function(){if(!(Q<1))if(!f||z||a)!f&&W&&(V.current=!0);else{var e=Object(M.a)(0,["current","scrollHeight"],K),t=U.current,n=W||S||V.current;K.current&&(n?(fa(K.current,e,O),V.current=!1):H&&fa(K.current,e-t,O)),(n||H)&&(U.current=e),_(!1),F(!1)}},[Q,f,S,z,W,H,a,O,t]),Object(A.useEffect)(function(){F(!1),_(!0)},[m]),Object(A.useEffect)(function(){Z&&f&&Z.viewerRecipientStatus!==C.f.READ&&!Object(w.h)(Z)&&Object(J.c)(m)},[Z,m,f]);return v.a.createElement("div",{className:"drift-widget-message-group-list-container","aria-hidden":d},v.a.createElement("div",{style:g,className:s()("drift-widget-message-group-list-loader",{"drift-widget-message-group-list-loader--loading":R})},v.a.createElement(l.a,{visible:R})),v.a.createElement(da.Scrollbars,{ref:function setScrollContainerRef(e){e&&K&&(K.current=e.view)},hideTracksWhenNotNeeded:!0,renderView:function renderScrollbarsView(e){var t=Object(ua.a)(["WebkitOverflowScrolling"],e.style);return v.a.createElement("div",Object.assign({},e,{role:"list",style:t,className:s()("drift-widget-message-group-list",{"drift-widget-message-group-list--hidden":a})}))}},X))}},BZgG:function(e,a,t){},CwrG:function(e,a,t){"use strict";var n=t("nJ3u"),i=t("O94r"),r=t.n(i),c=t("+Kbs"),o=t("z24s"),s=t("SFoa"),l=t("LVcX"),m=t("ERkP"),u=t.n(m),d=t("TVEO"),g=t("uDfI"),f=(t("p0+K"),function Drift(){var e=Object(m.useRef)(null),a=Object(o.a)(e),t=Object(l.a)("",["context","page","hostname"],Object(g.c)(function(e){return e.session})),n=Object(m.useMemo)(function(){return Object(s.g)()<=1?"":"?utm_source=".concat(t,"&utm_medium=web-widget&utm_campaign=widget-referral&utm_version=v2")},[t]);return u.a.createElement("a",{href:"https://www.drift.com/powered-by".concat(n),className:r()("drift-widget-power",{"keyboard-focused":a}),rel:"noopener noreferrer",target:"_blank",ref:e},u.a.createElement(d.a,{i18nKey:"composer.footer.poweredByDrift",components:[u.a.createElement(c.c,{height:12,width:12}),u.a.createElement("span",{className:"drift-widget-power-brand"},"Drift")]}))}),b=t("8Epr"),p=t("lE29"),A=t("Hvhg");t("2VrW"),a.a=function Footer(){var e=Object(g.c)(A.a).showBranding,a=void 0!==e&&e,t=Object(b.a)(),i=t.privacyPolicyLink,c=t.privacyPolicyLinkText,s=t.noPolicy,l=Object(p.a)().activeColor,d=Object(m.useRef)(null),v=Object(o.a)(d);return!a&&s?null:u.a.createElement("div",{className:r()("drift-widget-footer",{"drift-widget-footer--with-branding":a})},u.a.createElement("style",null,"\n          .drift-widget-power.keyboard-focused,\n          .drift-widget-footer--with-branding .drift-widget-footer-privacy.keyboard-focused {\n            ".concat(Object(n.e)(l),"\n          }\n        ")),a&&u.a.createElement(f,null),a&&!s&&u.a.createElement("span",{className:"drift-widget-footer-privacy-spacer","aria-hidden":"true"},"|"),!s&&u.a.createElement(u.a.Fragment,null,u.a.createElement("span",{className:r()("drift-widget-footer-privacy",{"keyboard-focused":v})},u.a.createElement("a",{href:i,rel:"noopener noreferrer",target:"_blank",title:c,className:"drift-widget-footer-privacy--link",ref:d},c))))}},P6Di:function(e,a,t){},Q0X4:function(e,a,t){},Q80r:function(e,a,t){},Qp3a:function(e,a,t){},RJSH:function(e,a,t){},UwV1:function(e,a,t){},Wkzb:function(e,a,t){},ZGTz:function(e,a,t){"use strict";var n=t("mj2O"),i=t.n(n),r=t("7SM1"),c=t("s8DI"),o=t("O94r"),s=t.n(o),l=t("HXmn"),m=t("LVcX"),u=t("ERkP"),d=t.n(u),g=t("Tr4L"),f=t("uDfI"),b=t("oFTC"),p=(t("uqJV"),t("Q80r"),Object(u.lazy)(function(){return Promise.all([t.e(11),t.e(37)]).then(t.bind(null,"tBak"))})),A=function EmojiPickerLoader(e){var a=e.loadingText;return d.a.createElement("div",{className:"drift-widget-emoji-picker--loader"},d.a.createElement("p",null,a),d.a.createElement(l.a,null))};a.a=function EmojiPicker(e){var a=e.open,n=e.onAddEmoji,o=e.onClickOutside,l=Object(g.a)().t,v=Object(f.c)(function(e){return e.conversations}).activeConversation,j="en"!==Object(f.c)(function(e){return Object(m.a)("en",["embed","configuration","locale"],e)}),O=Object(u.useMemo)(function(){return function createEmojiMartI18nProp(e){return{search:e("emoji.search"),clear:e("emoji.clear"),notfound:e("emoji.notfound"),skintext:e("emoji.skintext"),categories:{search:e("emoji.category.search"),recent:e("emoji.category.recent"),smileys:e("emoji.category.smileys"),people:e("emoji.category.smileys"),nature:e("emoji.category.nature"),foods:e("emoji.category.foods"),activity:e("emoji.category.activity"),places:e("emoji.category.places"),objects:e("emoji.category.objects"),symbols:e("emoji.category.symbols"),flags:e("emoji.category.flags"),custom:e("emoji.category.custom")},categorieslabel:e("emoji.categorieslabel"),skintones:{1:e("emoji.skintone1"),2:e("emoji.skintone2"),3:e("emoji.skintone3"),4:e("emoji.skintone4"),5:e("emoji.skintone5"),6:e("emoji.skintone6")}}}(l)},[l]),E=Object(u.useRef)(null),h=Object(u.useState)(null),y=Object(c.a)(h,2),k=y[0],w=y[1];Object(u.useEffect)(function(){a&&!k&&function(){var e=Object(r.a)(i.a.mark(function _callee(){return i.a.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.e(40).then(t.t.bind(null,"8ozv",3)).then(function(e){return w(e.default)});case 2:case"end":return e.stop()}},_callee)}));return function fetchEmojiData(){return e.apply(this,arguments)}}()()},[a,k]),Object(b.a)(E,function(e){o(e)});return d.a.createElement("div",{ref:E,className:s()("drift-widget-composer-emoji-picker",{"drift-widget-composer-emoji-picker--open":a,"drift-widget-composer-emoji-picker--full":v,"drift-widget-composer-emoji-picker--mini":!v,"drift-widget-composer-emoji-picker--hide-search":j})},d.a.createElement(u.Suspense,{fallback:d.a.createElement(A,{loadingText:l("status.loading")})},!!k&&d.a.createElement(p,{darkMode:!1,onSelect:function addEmojiToMessage(e){var a=e.native;n(function(e){return"".concat(e," ").concat(a)})},sheetSize:64,set:"apple",data:k,exclude:["flags","symbols","objects"],perLine:6,emojiTooltip:!j,i18n:O,showPreview:!1,showSkinTones:!1,onClickOutside:o})))}},ZP32:function(e,a,t){},fmuz:function(e,a,t){},mQ2C:function(e,a,t){},"n/d+":function(e,a,t){},noex:function(e,a,t){"use strict";var n=t("O94r"),i=t.n(n),r=t("yEsl"),c=t("MQZS"),o=t("58kB"),s=t("LVcX"),l=t("ERkP"),m=t.n(l),u=t("Tr4L"),d=t("6lNa");t("t/7O");a.a=function PresenceAvatar(e){var a=e.size,t=void 0===a?"LARGE":a,n=e.id,g=void 0===n?null:n,f=e.className,b=e.image,p=Object(u.a)().t,A=Object(o.a)(g).recipient,v=Object(l.useMemo)(function(){return Object(s.a)(null,["avatarUrl"],A)},[A]),j=Object(l.useMemo)(function(){return Object(s.a)(!1,["bot"],A)},[A]),O=Object(c.a)(g,A.bot),E=Object(l.useMemo)(function(){return O?O===d.a.ONLINE?p("user.status.active"):O===d.a.OFFLINE?p("user.status.away"):null:null},[O,p]);return v||j?m.a.createElement("div",{className:i()("drift-widget-presence-avatar",f),title:O?E:""},m.a.createElement(r.a,{size:t,id:g,image:b||v}),O&&O===d.a.ONLINE&&m.a.createElement("div",{className:i()("drift-widget-agent-status","drift-widget-agent-status--online"),"aria-label":"agent status ".concat(E)}),O&&O===d.a.OFFLINE&&m.a.createElement("div",{className:i()("drift-widget-agent-status","drift-widget-agent-status--offline"),"aria-label":"agent status ".concat(E)},m.a.createElement("div",{className:"drift-widget-agent-status--offline-dot"}))):null}},oImb:function(e,a,t){"use strict";var n=t("mj2O"),i=t.n(n),r=t("7SM1"),c=t("s8DI"),o=t("KA4J"),s=t("O94r"),l=t.n(s),m=t("UAQ6"),u=t("nvPd"),d=t("6wvX"),g=t("z24s"),f=t("1I2J"),b=t("97O6"),p=t.n(b),A=t("ERkP"),v=t.n(A),j=t("Tr4L"),O=t("oFTC"),E=t("0lfv");t("RJSH");a.a=function GiphyPicker(e){var a=e.onAddGiphy,t=e.disabled,n=void 0!==t&&t,s=Object(j.a)().t,b=Object(m.a)(),h=Object(A.useState)([]),y=Object(c.a)(h,2),k=y[0],w=y[1],M=Object(A.useState)(!1),N=Object(c.a)(M,2),C=N[0],S=N[1],_=Object(A.useState)(!1),T=Object(c.a)(_,2),P=T[0],z=T[1],I=Object(A.useRef)(null),L=Object(A.useRef)(null),x=Object(A.useRef)(null),R=Object(u.a)(""),D=R.value,B=R.onChange,G=Object(d.a)(),H=Object(g.a)(x),F=Object(A.useMemo)(function(){return Object(E.d)(function(){var e=Object(r.a)(i.a.mark(function _callee(e){var a,t;return i.a.wrap(function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(o.a)(e,51,{locale:b});case 2:a=n.sent,t=a.data,w(t.data);case 5:case"end":return n.stop()}},_callee)}));return function(a){return e.apply(this,arguments)}}(),200,!1)},[b]),K=Object(A.useCallback)(Object(r.a)(i.a.mark(function _callee2(){var e,a;return i.a.wrap(function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(o.b)(51);case 2:e=t.sent,a=e.data,w(a.data);case 5:case"end":return t.stop()}},_callee2)})),[]);Object(O.a)(I,function(){C&&(S(!1),z(!0))}),Object(A.useEffect)(function(){C&&!G&&L.current.focus(),C&&K()},[C,G,K]),Object(A.useEffect)(function(){C&&(D.length>0?F(D):K())},[D,C,F,K]),Object(A.useEffect)(function(){if(P){var e=window.setTimeout(function(){z(!1)},200);return function(){window.clearTimeout(e)}}},[P]);return v.a.createElement(v.a.Fragment,null,v.a.createElement("button",{className:l()("drift-widget-composer-giphy-toggle",{"keyboard-focused":H}),onClick:function openGiphy(){P||C||S(!0)},"aria-label":"Add GIF - Click to toggle",disabled:n,ref:x},v.a.createElement(f.a,null)),v.a.createElement("div",{className:l()("drift-widget-composer-giphy-picker",{"drift-widget-composer-giphy-picker--show":C,"drift-widget-composer-giphy-picker--mobile":G}),ref:I},v.a.createElement("div",{className:"drift-widget-composer-giphy-picker-search"},v.a.createElement("input",{className:"drift-widget-input",ref:L,type:"search",placeholder:s("gifPicker.searchPlaceholder"),value:D,onChange:B,onFocus:function onInputFocus(e){G&&e.stopPropagation()},"aria-label":"Search GIFs"})),v.a.createElement("div",{className:"drift-widget-composer-giphy-picker-list-wrapper"},v.a.createElement("ul",{className:"drift-widget-composer-giphy-list"},k.map(function(e){return v.a.createElement("li",{key:e.id,className:"drift-widget-composer-giphy-list-item"},v.a.createElement("button",{onClick:function onClick(){return function addGiphyToMessage(e){a('<img src="'.concat(e.url,'" alt="gif" />')),S(!1)}(e.images.original)}},v.a.createElement("img",{src:e.images.preview_gif.url,alt:e.title||"Gif from Giphy"})))}))),v.a.createElement("span",{className:"drift-widget-composer-giphy-picker-power"},v.a.createElement("img",{src:p.a,alt:s("gifPicker.poweredBy")}))))}},"p0+K":function(e,a,t){},sZBt:function(e,a,t){},"t/7O":function(e,a,t){}}]);