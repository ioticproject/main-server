(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"1b8i":function(e,t,n){"use strict";var c=n("s8DI"),r=n("da4L"),a=n("ERkP");t.a=function useTimedMessages(e,t){var n=Object(a.useState)(function(){return e}),i=Object(c.a)(n,2),u=i[0],o=i[1],s=Object(a.useRef)(t),f=Object(a.useRef)(null);return Object(a.useEffect)(function(){if(t){if(e!==u){var n=u.length;if(0===e.length&&n>0)o([]);else{if(s.current!==t||n===e.length)return s.current=t,void o(e);var c=function pushMessage(){return o(e.slice(0,n+1))},a=e[n];if(!(Date.now()-a.createdAt>6e4||Object(r.h)(a)||Object(r.i)(a)))return f.current=window.setTimeout(function(){f.current=null,c()},600),function(){f.current&&window.clearTimeout(f.current)};c()}}}else u.length>0&&o([])},[e,u,t]),u}},"2uLe":function(e,t,n){"use strict";var c=n("mj2O"),r=n.n(c),a=n("7SM1"),i=n("8ZCy"),u=n("8Epr"),o=n("Hvhg"),s=n("ERkP"),f=n("uDfI"),l=n("vTYT"),b=n("7oto");t.a=function useSetPreviewHeight(){var e=Object(s.useRef)(null),t=Object(f.c)(function(e){return!!e.conversations.activeConversation}),n=Object(f.c)(o.a).showBranding,c=void 0!==n&&n,v=Object(u.a)().noPolicy,O=Object(f.c)(function(e){return e.session.gdpr}),j=O.hasConsent,d=O.declinedConsent,g=Object(s.useCallback)(function(){var e=0,t=!c&&v;return d&&(e+=i.a),t&&(e+=i.b),j||(e+=t?i.d:i.c),e},[d,j,v,c]),p=Object(s.useCallback)(function(){return e.current?e.current.clientHeight:200},[e]),m=Object(s.useCallback)(function(){var e=Object(a.a)(r.a.mark(function _callee(e){var n,c,a,u,o=arguments;return r.a.wrap(function _callee$(r){for(;;)switch(r.prev=r.next){case 0:if(n=o.length>1&&void 0!==o[1]&&o[1],!t||!j){r.next=3;break}return r.abrupt("return");case 3:c=g(),a=p(),u=e?"".concat(a+i.e-c,"px"):"0px",Object(b.a)({topic:"set-frame-height",message:{height:u,name:l.b.CHAT,transition:!0,transitionHeight:n}});case 7:case"end":return r.stop()}},_callee)}));return function(t){return e.apply(this,arguments)}}(),[t,j,g,p]),h=Object(s.useCallback)(Object(a.a)(r.a.mark(function _callee2(){var e;return r.a.wrap(function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:e=p(),Object(b.a)({topic:"set-frame-height",message:{height:"".concat(e+i.f,"px"),name:l.b.SLIDER,transition:!0,transitionHeight:!1}});case 2:case"end":return t.stop()}},_callee2)})),[p]),I=Object(s.useCallback)(Object(a.a)(r.a.mark(function _callee3(){var e;return r.a.wrap(function _callee3$(t){for(;;)switch(t.prev=t.next){case 0:e=p(),Object(b.a)({topic:"set-frame-height",message:{height:"".concat(e,"px"),name:l.b.EMAIL_CAPTURE,transition:!0,transitionHeight:!1}});case 2:case"end":return t.stop()}},_callee3)})),[p]);return{previewRef:e,setChatHeight:m,setSliderHeight:h,setEmailCaptureHeight:I}}},"6fy/":function(e,t,n){"use strict";var c=n("kXeL"),r=n.n(c),a=n("LVcX"),i=n("ERkP"),u=n("Tr4L"),o=n("uDfI");t.a=function useUserResolution(){var e=Object(u.a)().t,t=Object(o.c)(function(e){return e.session.endUser});return Object(i.useMemo)(function(){return{id:t.id,name:Object(a.a)(e("user.self"),["name"],t),avatar:Object(a.a)(r.a,["socialProfile","avatar"],t),email:Object(a.a)(null,["socialProfile","email"],t)}},[t,e])}},"6rzO":function(e,t,n){"use strict";var c=n("WwEg"),r=n("s8DI"),a=n("0B8E"),i=n("ERkP");t.a=function usePasteFiles(e){var t=e.inputRef,n=Object(i.useState)([]),u=Object(r.a)(n,2),o=u[0],s=u[1],f=Object(i.useState)(null),l=Object(r.a)(f,2),b=l[0],v=l[1],O=Object(i.useCallback)(function(e){if(e.clipboardData&&e.clipboardData.files){var t=Object(c.a)(e.clipboardData.files);t.length&&s(Object(a.a)([].concat(Object(c.a)(o),Object(c.a)(t)))),t.length&&v(e.clipboardData.getData("Text"))}},[o]);return Object(i.useEffect)(function(){t&&(t.current.onpaste=O)},[t,O]),{pastedTextFromFiles:b,pastedFiles:o,clearFiles:function clearFiles(){s([]),v(null)}}}},"6wvX":function(e,t,n){"use strict";var c=n("uDfI"),r=n("0lfv");t.a=function useIsMobile(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Object(c.c)(function(t){return Object(r.l)(t.session.context.userAgent,e)})}},"7IKl":function(e,t,n){"use strict";var c=n("ERkP"),r=n("Tr4L"),a=n("uDfI"),i=n("F8vJ");t.a=function useAgentName(e){var t=Object(a.c)(function(e){return e.embed.configuration}).team,n=void 0===t?[]:t,u=Object(r.a)().t;return Object(c.useMemo)(function(){var t=n.find(function(t){return t.id===e});return t&&!Object(i.a)(t.name)?t.name:u("agent")},[n,e,u])}},"8Epr":function(e,t,n){"use strict";var c=n("SFoa"),r=n("LVcX"),a=n("uDfI"),i=n("Nlet");t.a=function useResolvePrivacy(){var e=Object(a.c)(function(e){return Object(r.a)({},["embed","configuration","dataProtection"])(e)}),t=Object(i.c)().locale,n=function resolvePolicy(){if(!e.policies)return{};var n=Object(c.h)(),a=e.default||"en",i=n?Object(c.e)():t||a,u=n?e.policies[a]:e.policies[i]||{};return Object(r.a)(u,[i])(e.policies)}(),u=n.privacyPolicyLink,o=n.privacyPolicyLinkText,s=n.privacyPolicyAlwaysOn;return{privacyPolicyLink:u,privacyPolicyLinkText:o,noPolicy:!u||!o||!(void 0!==s&&s)}}},FJN1:function(e,t,n){"use strict";n.d(t,"a",function(){return useChatTakeoverStyles});var c=n("uDfI"),r=n("6wvX");function useChatTakeoverStyles(){var e=Object(r.a)();return!!Object(c.c)(function(e){return e.view.isChatTakeover})&&!e}},MQZS:function(e,t,n){"use strict";var c=n("mj2O"),r=n.n(c),a=n("7SM1"),i=n("OE2q"),u=n("K7i0"),o=n("LVcX"),s=n("ERkP"),f=n("uDfI"),l=n("6lNa");t.a=function useActiveAgentStatus(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(f.b)(),c=Object(f.c)(function(t){return Object(o.a)(null,["conversations","agentPresence","".concat(e),"status"],t)});return Object(s.useEffect)(function(){t||!c&&e&&function(){var t=Object(a.a)(r.a.mark(function _callee(){var t,c;return r.a.wrap(function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(i.f)(e);case 2:t=r.sent,c=t.data,n(Object(u.d)({agentId:e,availability:c.availability,lastActivity:c.lastActivityAt}));case 5:case"end":return r.stop()}},_callee)}));return function fetchAgentStatusById(){return t.apply(this,arguments)}}()()},[n,e,t,c]),t?l.a.ONLINE:c}},"P+wr":function(e,t,n){"use strict";var c=n("mj2O"),r=n.n(c),a=n("7SM1"),i=n("s8DI"),u=n("UXBQ"),o=n("K7i0"),s=n("LVcX"),f=n("ERkP"),l=n("uDfI"),b=n("vwUF");t.a=function useAttachmentUpload(e){var t=e.onAttachmentUploadComplete,n=e.activeConversation,c=Object(l.b)(),v=Object(f.useState)(b.b.NONE),O=Object(i.a)(v,2),j=O[0],d=O[1],g=Object(l.c)(function(e){return Object(s.a)(!1,["embed","configuration","theme"],e)}).allowEndUserFileUpload,p=Object(f.useCallback)(function(){var e=Object(a.a)(r.a.mark(function _callee(e){var a,i,s,f;return r.a.wrap(function _callee$(r){for(;;)switch(r.prev=r.next){case 0:if(g){r.next=2;break}return r.abrupt("return");case 2:if(j!==b.b.ERROR){r.next=4;break}return r.abrupt("return");case 4:return d(b.b.PENDING),a=e.filter(function(e){return e.size<b.a.DEFAULT}).map(function(e){return Object(u.b)(e,n)}),r.prev=6,r.next=9,Promise.all(a);case 9:i=r.sent,s=i.map(function(e){return e.data}),f=s.map(function(e){return e.id}),c(Object(o.e)({attachments:s})),t(f),d(b.b.NONE),r.next=20;break;case 17:r.prev=17,r.t0=r.catch(6),d(b.b.ERROR);case 20:case"end":return r.stop()}},_callee,null,[[6,17]])}));return function(t){return e.apply(this,arguments)}}(),[n,g,j,c,t]);return{attachmentState:j,uploadAttachments:p,resetAttachmentState:function resetAttachmentState(){d(b.b.NONE)}}}},UAQ6:function(e,t,n){"use strict";var c=n("LVcX"),r=n("uDfI");t.a=function useEmbedLocale(){return Object(r.c)(function(e){return Object(c.a)("en",["embed","configuration","locale"],e)})}},Vk0e:function(e,t,n){"use strict";var c=n("mj2O"),r=n.n(c),a=n("7SM1"),i=n("s8DI"),u=n("TDUE"),o=n("ERkP"),s=n("uDfI"),f=n("gG69");t.a=function useTrackImpressionOnce(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f.c.LIVE_CHAT,t=Object(o.useState)(!1),n=Object(i.a)(t,2),c=n[0],l=n[1],b=Object(s.c)(function(e){return e.view}).chatOpen;Object(o.useEffect)(function(){!function(){var t=Object(a.a)(r.a.mark(function _callee(){var t;return r.a.wrap(function _callee$(n){for(;;)switch(n.prev=n.next){case 0:if(!b||c){n.next=5;break}return n.next=3,Object(u.d)(e);case 3:t=n.sent,l(t);case 5:case"end":return n.stop()}},_callee)}));return function trackImpression(){return t.apply(this,arguments)}}()()},[c,b,e])}},ey6Y:function(e,t,n){"use strict";var c=n("58kB"),r=n("Tr4L");t.a=function useMeetingRecipients(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Object(r.a)().t,a=Object(c.a)(e).recipient;return a.id?t.length?n("meeting.recipients",{name:a.name,others:t.length}):"".concat(a.name):""}},fJpD:function(e,t,n){"use strict";var c=n("da4L"),r=n("LVcX"),a=n("ERkP"),i=n("uDfI");t.a=function useMeetingMessageInfo(e){var t=Object(i.c)(function(t){var n=t.conversations.activeConversation;return Object(r.a)(null,["messages",n,e],t.conversations)});return Object(a.useMemo)(function(){var e=Object(c.a)(t,"appointmentInfo"),n=function getMeetingRecipients(e){return Object(c.a)(e,"presentSchedule")||Object(c.a)(e,"scheduleMeetingWith")}(t),a=Array.isArray(n)&&n.length>1;return{shouldPresentSchedulingCard:!!Object(c.a)(t,"presentSchedule"),shouldPresentConfirmationCard:!!e,additionalAgents:Object(c.a)(t,"additionalAgents")||Object(r.a)([],["additionalAgents"],e),meetingRecipientAgents:a?n:[n],isCompanyMeeting:a,meetingType:Object(c.a)(t,"meetingType"),orgMeetingType:Object(c.a)(t,"meetingSlug"),meetingSource:Object(c.a)(t,"meetingSource"),schedulingAgentId:Object(c.a)(t,"bookedByUserId")||Object(c.a)(t,"offerSchedule"),appointmentInfo:Object(c.a)(t,"appointmentInfo")}},[t])}},fJrp:function(e,t,n){"use strict";var c=n("ERkP");t.a=function usePrevious(e){var t=Object(c.useRef)();return Object(c.useEffect)(function(){t.current=e},[e]),t.current}},fL0f:function(e,t,n){"use strict";var c=n("LVcX"),r=n("uDfI");t.a=function useEmbedThemeProperties(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=Object(r.c)(function(e){return Object(c.a)({},["embed","configuration","theme"],e)});return e.map(function(e){return t[e]})}},fpJs:function(e,t,n){"use strict";var c=n("uDfI"),r=n("8Epr"),a=function showBrandingSelector(e){return e.embed.configuration.showBranding||!1};t.a=function useHasFooter(){var e=Object(c.c)(a),t=Object(r.a)().noPolicy;return e||!t}},fw6E:function(e,t,n){"use strict";var c=n("SFoa"),r=n("g6eD"),a=n("ERkP"),i=n("uDfI");t.a=function useConversationHistoryToggle(){var e=Object(i.b)(),t=Object(i.c)(function(e){return Object(c.f)(e.embed,"conversationHistoryEnabled",!0)}),n=Object(i.c)(function(e){return e.view.conversationHistoryOpen});return{onToggleConversationHistory:Object(a.useCallback)(function(t){e(Object(r.f)({conversationHistoryOpen:t}))},[e]),conversationHistoryOpen:n,conversationHistoryEnabled:t}}},hhdZ:function(e,t,n){"use strict";var c=n("da4L"),r=n("LVcX"),a=n("i9gz"),i=n("TbSn"),u=n("uDfI");t.a=function useLastMessage(e){var t=Object(u.c)(function(t){return Object(r.a)(null,["conversations","conversations",e,"lastMessage"],t)}),n=Object(u.c)(function(t){var n=Object(r.a)({},["conversations","messages",e],t);if(!Object(a.a)(n)){var u=Object(c.n)(n);if(u.length)return Object(i.a)(u)}return null});return t||n||{}}},jITz:function(e,t,n){"use strict";var c=n("s8DI"),r=n("ERkP");t.a=function useKeyPress(e){var t=e.targetKey,n=e.onKeyDown,a=void 0===n?function(){}:n,i=e.onKeyUp,u=void 0===i?function(){}:i,o=Object(r.useState)(!1),s=Object(c.a)(o,2),f=s[0],l=s[1],b=Object(r.useCallback)(function(e){e.key===t&&(l(!0),a(e))},[t,a]),v=Object(r.useCallback)(function(e){e.key===t&&(l(!1),u(e))},[t,u]);return Object(r.useEffect)(function(){return window.addEventListener("keydown",b),window.addEventListener("keyup",v),function(){window.removeEventListener("keydown",b),window.removeEventListener("keyup",v)}},[b,v]),f}},"kJB/":function(e,t,n){"use strict";var c=n("NFvl"),r=n("Tr4L"),a=n("uDfI");t.a=function useDefaultGreeting(){var e=Object(r.a)().t,t=Object(a.c)(function(t){var n=Object(c.a)(["embed","configuration","theme","welcomeMessage"],t);return n||e("greeting.onlineMessage")}),n=Object(a.c)(function(e){return e.view.matchedHours}),i=Object(a.c)(function(t){var n=Object(c.a)(["embed","configuration","theme","awayMessage"],t);return n||e("greeting.awayMessage")});return n?t:i}},mZ4K:function(e,t,n){"use strict";var c=n("s8DI"),r=n("SFoa"),a=n("LVcX"),i=n("ERkP"),u=n("uDfI"),o=n("xNFZ"),s=n("nedb"),f=function useActiveConversation(){var e=Object(u.c)(function(e){return e.conversations}).activeConversation;return Object(u.c)(function(t){return Object(a.a)(null,["conversations","conversations",e,"conversation"],t)})},l=n("fL0f"),b=n("tLIi");t.a=function useActiveSenderId(){var e=f(),t=Object(b.a)(),n=Object(s.a)(),v=Object(l.a)(["userList","userListMode"]),O=Object(c.a)(v,2),j=O[0],d=void 0===j?[]:j,g=O[1],p=void 0===g?"RANDOM":g,m=Object(u.c)(function(e){return e.embed}).configuration,h=(void 0===m?{}:m).autoAssigneeId,I=Object(u.c)(function(e){return e.session}).assignedAgentId,k=Object(i.useMemo)(function(){return Object(a.a)(null,["authorId"],t)},[t]),w=Object(i.useMemo)(function(){return Object(a.a)(null,["attributes","senderId"],n)},[n]),y=Object(i.useMemo)(function(){return Object(a.a)(null,["authorId"],n)},[n]),E=Object(i.useMemo)(function(){return!!Object(a.a)(null,["attributes","automaticSender"],n)},[n]),C=Object(i.useMemo)(function(){return Object(a.a)(!1,["attributes","isFirstMessage"],n)&&!!Object(a.a)(null,["attributes","startInteraction"],n)},[n]),D=E&&!!y,S=function getSenderIdFromConversation(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t||(e&&e.assigneeId?e.assigneeId:null)}(e,k);return S||I||(D?y:C?Object(r.a)():w?function getWelcomeMessageSenderId(e){return 0===e?Object(o.a)():e}(w):function getSenderIdFromEmbedTheme(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"RANDOM",n=arguments.length>2?arguments[2]:void 0;return n||("RANDOM"===t?Object(o.a)():!e.length||e.includes(null)?Object(o.a)():e.length?e[0]:null)}(d,p,h))}},nedb:function(e,t,n){"use strict";var c=n("LVcX"),r=n("uDfI"),a=function activeCampaignSelector(e){return Object(c.a)(null,["campaigns","activeCampaign"],e)};t.a=function useActiveCampaign(){return Object(r.c)(a)}},nvPd:function(e,t,n){"use strict";var c=n("s8DI"),r=n("ERkP");t.a=function useInputValue(e){var t=Object(r.useState)(e),n=Object(c.a)(t,2),a=n[0],i=n[1];return{value:a,onChange:Object(r.useCallback)(function(e){i(e.currentTarget.value)},[])}}},o3t1:function(e,t,n){"use strict";var c=n("s8DI"),r=n("ERkP"),a=n("0lfv"),i=n("6wvX");t.a=function useOnHover(){var e=Object(i.a)(),t=Object(r.useState)(!1),n=Object(c.a)(t,2),u=n[0],o=n[1];return Object(r.useMemo)(function(){return e?{}:{hoverProps:{onMouseOver:function onMouseOver(){return o(!0)},onMouseOut:function onMouseOut(){return o(!1)},onFocus:a.o,onBlur:a.o},isHovered:u}},[e,u])}},pwwT:function(e,t,n){"use strict";var c=n("s8DI"),r=n("Y0wo"),a=n("SsZN"),i=n("qixE"),u=n("g6eD"),o=n("LVcX"),s=n("ERkP"),f=n("uDfI"),l=n("6lNa"),b=n("7oto"),v=n("nedb");t.a=function useCloseChat(){var e=Object(v.a)(),t=Object(f.b)(),n=Object(s.useState)(!1),O=Object(c.a)(n,2),j=O[0],d=O[1],g=Object(f.c)(function(e){return e.view.isChatTakeover}),p=Object(f.c)(function(e){return Object(o.a)(null,["view","closeChatRedirectUrl"],e)}),m=Object(f.c)(function(e){return e.conversations.activeConversation}),h=Object(f.c)(function(e){return Object(o.a)(!1,["conversations","conversationStatus",m,"endUserResponded"],e)});Object(s.useEffect)(function(){j&&(t(Object(u.b)({chatOpen:!1,isChatTakeover:!1})),d(!1))},[j,t]);var I=Object(s.useCallback)(function(){Object(b.a)({topic:"remove-chat-takeover",message:{classNamesToRemove:[r.a]}});var t=h?null:function createCampaignDismissedEvent(e,t){return Object(a.c)(l.b.CLICKED,t.id),"number"!==typeof e?null:Object(i.a)(l.b.DISMISSED,{conversationId:e})}(m,e);if(p){var n=function redirect(){return Object(b.a)({topic:"redirect-to-url",message:{url:p}})};t?t.then(n):n()}},[e,m,p,h]);return Object(s.useCallback)(function closeChat(){d(!0),g&&I()},[g,I])}},tLIi:function(e,t,n){"use strict";var c=n("da4L"),r=n("LVcX"),a=n("i9gz"),i=n("TbSn"),u=n("uDfI");t.a=function useLastAgentMessage(){var e=Object(u.c)(function(e){return e.conversations}).activeConversation,t=Object(u.c)(function(t){return Object(r.a)(null,["conversations","conversations",e,"lastAgentMessage"],t)}),n=Object(u.c)(function(t){var n=Object(r.a)({},["conversations","messages",e],t);if(Object(a.a)(n))return{};var u=Object(c.n)(n).filter(function(e){return"USER"===Object(r.a)(null,["authorType"],e)});return u.length?Object(i.a)(u):void 0});return t||n||{}}},uQkC:function(e,t,n){"use strict";var c=n("qwiD"),r=n("ERkP"),a=n("uDfI"),i=n("7VeV");t.a=function useTypingIndicators(e){var t=e.activeConversationId,n=Object(a.b)(),u=Object(r.useRef)(),o=Object(a.c)(function(e){return e.session.endUser.type}),s=Object(a.c)(function(e){return e.session.endUser.id}),f=Object(r.useCallback)(function(e){n(Object(c.e)("chat","user","typing:".concat(e),{userId:s,userType:o,conversationId:t,participants:[]}))},[t,n,s,o]),l=Object(r.useMemo)(function(){return Object(i.throttle)(5e3,!1,function(){return f("started")})},[f]);return{sendTypingStarted:function sendTypingStarted(){l(),u.current&&window.clearTimeout(u.current),u.current=window.setTimeout(function(){return f("finished")},5e3)},sendTypingFinished:function sendTypingFinished(){u.current&&(window.clearTimeout(u.current),u.current=null),f("finished")}}}},"xqp/":function(e,t,n){"use strict";var c=n("ERkP"),r=n("7VeV");t.a=function useScroll(e,t){var n=Object(c.useRef)(),a=Object(c.useMemo)(function(){return Object(r.throttle)(250,!1,function(e){n.current&&n.current(e)})},[n]);Object(c.useEffect)(function(){n.current=e},[e]),Object(c.useEffect)(function(){var e=t.current;if(e)return e.addEventListener("scroll",a),function(){e&&e.removeEventListener("scroll",a)}},[t,a])}}}]);